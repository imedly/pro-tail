(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8],{5782:function(e,t,r){"use strict";r.d(t,{vn:function(){return rf},a7:function(){return ro},qI:function(){return rs},El:function(){return tU},Gp:function(){return t6},_L:function(){return N},X1:function(){return U},KM:function(){return rp},Bg:function(){return t9},A:function(){return t3},Li:function(){return t5},Cv:function(){return ra},gM:function(){return rh},yB:function(){return rd},N1:function(){return rl},C2:function(){return ru},sO:function(){return rc},cL:function(){return tX},$d:function(){return rk},qu:function(){return rE},AM:function(){return r_},Mo:function(){return tZ},gX:function(){return rP},CH:function(){return rn},tj:function(){return ri},l8:function(){return t2},Iw:function(){return t1},_E:function(){return tG},CJ:function(){return ry},Gi:function(){return rm},kO:function(){return H},kD:function(){return L},G1:function(){return x},sZ:function(){return A},V9:function(){return I},ZC:function(){return j},aC:function(){return rr},ll:function(){return rR},E2:function(){return rT},jS:function(){return rM},o8:function(){return tS},eW:function(){return t_},qi:function(){return tE},kP:function(){return rO},xo:function(){return rj},zq:function(){return rA},QS:function(){return rL},aF:function(){return rC},r0:function(){return tJ},NA:function(){return rv},ns:function(){return rg}});var n,i,o,s,a,l,u,c,d,h={};r.r(h),r.d(h,{SWRConfig:function(){return e9},default:function(){return e7},mutate:function(){return eJ},preload:function(){return e2},unstable_serialize:function(){return e3},useSWRConfig:function(){return e1}}),r(218);var f=e=>"undefined"!=typeof atob&&"function"==typeof atob?atob(e):"undefined"!=typeof global&&global.Buffer?new global.Buffer(e,"base64").toString():e,p="pk_live_";function g(e){if(!m(e=e||""))return null;let t=e.startsWith(p)?"production":"development",r=f(e.split("_")[2]);return r.endsWith("$")?{instanceType:t,frontendApi:r=r.slice(0,-1)}:null}function m(e){let t=(e=e||"").startsWith(p)||e.startsWith("pk_test_"),r=f(e.split("_")[2]||"").endsWith("$");return t&&r}var v=Object.defineProperty,y=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,w=Object.prototype.hasOwnProperty,S=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of b(t))w.call(e,i)||i===r||v(e,i,{get:()=>t[i],enumerable:!(n=y(t,i))||n.enumerable});return e},k=r(4090),P=()=>!1,_=()=>!1,E=()=>{try{return!0}catch(e){}return!1},C=new Set,O=(e,t,r)=>{let n=_()||E(),i=null!=r?r:e;C.has(i)||n||(C.add(i),console.warn('Clerk - DEPRECATION WARNING: "'.concat(e,'" is deprecated and will be removed in the next major release.\n').concat(t)))},R=(e,t,r,n)=>{let i=e[t];Object.defineProperty(e,t,{get:()=>(O(t,r,n),i),set(e){i=e}})};function A(e){return L(e)||j(e)||"clerkRuntimeError"in e}function L(e){return"clerkError"in e}function j(e){return"code"in e&&[4001,32602,32603].includes(e.code)&&"message"in e}var M=class e extends Error{constructor(t){super(t),this.code=t,Object.setPrototypeOf(this,e.prototype),O("MagicLinkError","Use `EmailLinkError` instead.")}},T=class e extends Error{constructor(t){super(t),this.code=t,Object.setPrototypeOf(this,e.prototype)}};function I(e){return O("isMagicLinkError","Use `isEmailLinkError` instead."),e instanceof M}function x(e){return e instanceof T}var U=new Proxy({Expired:"expired",Failed:"failed"},{get:(e,t,r)=>(O("MagicLinkErrorCode","Use `EmailLinkErrorCode` instead."),Reflect.get(e,t,r))}),N={Expired:"expired",Failed:"failed"},q=Object.freeze({InvalidFrontendApiErrorMessage:"The frontendApi passed to Clerk is invalid. You can get your Frontend API key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys."});let z="Clerk: Child of WithClerk must be a function.",D=e=>"Clerk: You've passed multiple children components to <".concat(e,"/>. You can only pass a single child component or text."),V="Clerk: Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",B=e=>"Clerk: <".concat(e," /> can only accept <").concat(e,".Page /> and <").concat(e,".Link /> as its children. Any other provided component will be ignored."),F=e=>"Clerk: Missing props. <".concat(e,".Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page."),W=e=>"Clerk: Missing props. <".concat(e,".Link /> component requires the following props: url, label and labelIcon."),Q=function(e){let{packageName:t,customMessages:r}=e,n=t,i={...q,...r};function o(e,t){if(!t)return"".concat(n,": ").concat(e);let r=e;for(let n of e.matchAll(/{{([a-zA-Z0-9-_]+)}}/g)){let e=(t[n[1]]||"").toString();r=r.replace("{{".concat(n[1],"}}"),e)}return"".concat(n,": ").concat(r)}return{setPackageName(e){let{packageName:t}=e;return"string"==typeof t&&(n=t),this},setMessages(e){let{customMessages:t}=e;return Object.assign(i,t||{}),this},throwInvalidPublishableKeyError(e){throw Error(o(i.InvalidPublishableKeyErrorMessage,e))},throwInvalidFrontendApiError(e){throw Error(o(i.InvalidFrontendApiErrorMessage,e))},throwInvalidProxyUrl(e){throw Error(o(i.InvalidProxyUrlErrorMessage,e))},throwMissingPublishableKeyError(){throw Error(o(i.MissingPublishableKeyErrorMessage))}}}({packageName:"@clerk/react"});function H(e){Q.setMessages(e).setPackageName(e)}let $=new Map;var J=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},G=(e,t,r)=>(J(e,t,"read from private field"),r?r.call(e):t.get(e)),K=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},X=(e,t,r,n)=>(J(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);function Z(e,t,r){return"function"==typeof e?e(t):void 0!==e?e:void 0!==r?r:void 0}async function Y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,{async:r,defer:n,beforeLoad:i,crossOrigin:o}=t||{};return new Promise((t,s)=>{e||s("loadScript cannot be called without a src"),document&&document.body||s("loadScript cannot be called when document does not exist");let a=document.createElement("script");o&&a.setAttribute("crossorigin",o),a.async=r||!1,a.defer=n||!1,a.addEventListener("load",()=>{a.remove(),t(a)}),a.addEventListener("error",()=>{a.remove(),s()}),a.src=e,null==i||i(a),document.body.appendChild(a)})}function ee(e){return e.startsWith("/")}RegExp("bot|spider|crawl|APIs-Google|AdsBot|Googlebot|mediapartners|Google Favicon|FeedFetcher|Google-Read-Aloud|DuplexWeb-Google|googleweblight|bing|yandex|baidu|duckduck|yahoo|ecosia|ia_archiver|facebook|instagram|pinterest|reddit|slack|twitter|whatsapp|youtube|semrush","i");let{isDevOrStagingUrl:et}=function(){let e=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],t=new Map;return{isDevOrStagingUrl:r=>{if(!r)return!1;let n="string"==typeof r?r:r.hostname,i=t.get(n);return void 0===i&&(i=e.some(e=>n.endsWith(e)),t.set(n,i)),i}}}(),er=e=>{if(e)return e;let t=en("4.30.7");return t?"snapshot"===t?"4.70.3":t:ei("4.30.7")},en=e=>{var t;return null===(t=e.match(/-(.*)\./))||void 0===t?void 0:t[1]},ei=e=>e.split(".")[0],eo=e=>{let{frontendApi:t,publishableKey:r}=e;return r||t||Q.throwMissingPublishableKeyError(),Y(es(e),{async:!0,crossOrigin:"anonymous",beforeLoad:ea(e)}).catch(()=>{throw Error("Clerk: Failed to load Clerk")})},es=e=>{var t,r;let{clerkJSUrl:n,clerkJSVariant:i,clerkJSVersion:o,proxyUrl:s,domain:a,publishableKey:l,frontendApi:u}=e;if(n)return n;let c="";c=s&&(!s||/^http(s)?:\/\//.test(s||"")||ee(s))?(s?ee(s)?new URL(s,window.location.origin).toString():s:"").replace(/http(s)?:\/\//,""):a&&!et((null===(t=g(l))||void 0===t?void 0:t.frontendApi)||u||"")?function(e){let t;if(!e)return"";if(e.match(/^(clerk\.)+\w*$/))t=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;t=/^(clerk\.)*/gi}let r=e.replace(t,"");return"clerk.".concat(r)}(a):(null===(r=g(l))||void 0===r?void 0:r.frontendApi)||u||"";let d=i?"".concat(i.replace(/\.+$/,""),"."):"",h=er(o);return"https://".concat(c,"/npm/@clerk/clerk-js@").concat(h,"/dist/clerk.").concat(d,"browser.js")},ea=e=>t=>{let{publishableKey:r,frontendApi:n,proxyUrl:i,domain:o}=e;r?t.setAttribute("data-clerk-publishable-key",r):n&&t.setAttribute("data-clerk-frontend-api",n),i&&t.setAttribute("data-clerk-proxy-url",i),o&&t.setAttribute("data-clerk-domain",o)},el=class e{get publishableKey(){return G(this,c)}get loaded(){return G(this,s)}static getOrCreateInstance(t){return(!G(this,d)||t.Clerk&&G(this,d).Clerk!==t.Clerk)&&X(this,d,new e(t)),G(this,d)}static clearInstance(){X(this,d,null)}get domain(){if(window.location)return Z(G(this,a),new URL(window.location.href),"");if("function"==typeof G(this,a))throw Error(V);return G(this,a)||""}get proxyUrl(){if(window.location)return Z(G(this,l),new URL(window.location.href),"");if("function"==typeof G(this,l))throw Error(V);return G(this,l)||""}get sdkMetadata(){var e;return(null===(e=this.clerkjs)||void 0===e?void 0:e.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var e;return null===(e=this.clerkjs)||void 0===e?void 0:e.instanceType}get frontendApi(){var e;return(null===(e=this.clerkjs)||void 0===e?void 0:e.frontendApi)||G(this,u)||""}get isStandardBrowser(){var e;return(null===(e=this.clerkjs)||void 0===e?void 0:e.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){if(window.location)return Z(this.options.isSatellite,new URL(window.location.href),!1);if("function"==typeof this.options.isSatellite)throw Error(V);return!1}async loadClerkJS(){if(!("browser"!==this.mode||G(this,s))){window.__clerk_frontend_api=this.frontendApi,window.__clerk_publishable_key=this.publishableKey,window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain;try{var e,t,n,i;if(this.Clerk){let e;(i=this.Clerk,"function"==typeof i)?(e=new this.Clerk(this.publishableKey||this.frontendApi||"",{proxyUrl:this.proxyUrl,domain:this.domain}),await e.load(this.options)):(e=this.Clerk).isReady()||await e.load(this.options),r.g.Clerk=e}else{if(r.g.Clerk||await eo({...this.options,frontendApi:this.frontendApi,publishableKey:this.publishableKey,proxyUrl:this.proxyUrl,domain:this.domain}),!r.g.Clerk)throw Error("Failed to download latest ClerkJS. Contact support@clerk.com.");await r.g.Clerk.load(this.options)}if(r.g.Clerk.sdkMetadata=null!==(n=this.options.sdkMetadata)&&void 0!==n?n:{name:"@clerk/clerk-react",version:"4.30.7"},(null===(e=r.g.Clerk)||void 0===e?void 0:e.loaded)||(null===(t=r.g.Clerk)||void 0===t?void 0:t.isReady()))return this.hydrateClerkJS(r.g.Clerk);return}catch(e){console.error(e.stack||e.message||e);return}}}get version(){var e;return null===(e=this.clerkjs)||void 0===e?void 0:e.version}get client(){return this.clerkjs?this.clerkjs.client:void 0}get session(){return this.clerkjs?this.clerkjs.session:void 0}get user(){return this.clerkjs?this.clerkjs.user:void 0}get organization(){return this.clerkjs?this.clerkjs.organization:void 0}get __unstable__environment(){return this.clerkjs?this.clerkjs.__unstable__environment:void 0}__unstable__setEnvironment(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs&&this.clerkjs.__unstable__setEnvironment(t)}constructor(e){var t=this;this.clerkjs=null,this.preopenSignIn=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.loadedListeners=[],K(this,s,!1),K(this,a,void 0),K(this,l,void 0),K(this,u,void 0),K(this,c,void 0),this.isReady=()=>{var e;return!!(null===(e=this.clerkjs)||void 0===e?void 0:e.isReady())},this.buildSignInUrl=e=>{let t=()=>{var t;return(null===(t=this.clerkjs)||void 0===t?void 0:t.buildSignInUrl(e))||""};if(this.clerkjs&&G(this,s))return t();this.premountMethodCalls.set("buildSignInUrl",t)},this.buildSignUpUrl=e=>{let t=()=>{var t;return(null===(t=this.clerkjs)||void 0===t?void 0:t.buildSignUpUrl(e))||""};if(this.clerkjs&&G(this,s))return t();this.premountMethodCalls.set("buildSignUpUrl",t)},this.buildUserProfileUrl=()=>{let e=()=>{var e;return(null===(e=this.clerkjs)||void 0===e?void 0:e.buildUserProfileUrl())||""};if(this.clerkjs&&G(this,s))return e();this.premountMethodCalls.set("buildUserProfileUrl",e)},this.buildCreateOrganizationUrl=()=>{let e=()=>{var e;return(null===(e=this.clerkjs)||void 0===e?void 0:e.buildCreateOrganizationUrl())||""};if(this.clerkjs&&G(this,s))return e();this.premountMethodCalls.set("buildCreateOrganizationUrl",e)},this.buildOrganizationProfileUrl=()=>{let e=()=>{var e;return(null===(e=this.clerkjs)||void 0===e?void 0:e.buildOrganizationProfileUrl())||""};if(this.clerkjs&&G(this,s))return e();this.premountMethodCalls.set("buildOrganizationProfileUrl",e)},this.buildHomeUrl=()=>{let e=()=>{var e;return(null===(e=this.clerkjs)||void 0===e?void 0:e.buildHomeUrl())||""};if(this.clerkjs&&G(this,s))return e();this.premountMethodCalls.set("buildHomeUrl",e)},this.buildUrlWithAuth=e=>{let t=()=>{var t;return(null===(t=this.clerkjs)||void 0===t?void 0:t.buildUrlWithAuth(e))||""};if(this.clerkjs&&G(this,s))return t();this.premountMethodCalls.set("buildUrlWithAuth",t)},this.handleUnauthenticated=()=>{let e=()=>{var e;return null===(e=this.clerkjs)||void 0===e?void 0:e.handleUnauthenticated()};this.clerkjs&&G(this,s)?e():this.premountMethodCalls.set("handleUnauthenticated",e)},this.addOnLoaded=e=>{this.loadedListeners.push(e),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(e=>e()),this.loadedListeners=[]},this.hydrateClerkJS=e=>{if(!e)throw Error("Failed to hydrate latest Clerk JS");return this.clerkjs=e,this.premountMethodCalls.forEach(e=>e()),null!==this.preopenSignIn&&e.openSignIn(this.preopenSignIn),null!==this.preopenSignUp&&e.openSignUp(this.preopenSignUp),null!==this.preopenUserProfile&&e.openUserProfile(this.preopenUserProfile),null!==this.preopenOrganizationProfile&&e.openOrganizationProfile(this.preopenOrganizationProfile),null!==this.preopenCreateOrganization&&e.openCreateOrganization(this.preopenCreateOrganization),this.premountSignInNodes.forEach((t,r)=>{e.mountSignIn(r,t)}),this.premountSignUpNodes.forEach((t,r)=>{e.mountSignUp(r,t)}),this.premountUserProfileNodes.forEach((t,r)=>{e.mountUserProfile(r,t)}),this.premountUserButtonNodes.forEach((t,r)=>{e.mountUserButton(r,t)}),this.premountOrganizationListNodes.forEach((t,r)=>{e.mountOrganizationList(r,t)}),X(this,s,!0),this.emitLoaded(),this.clerkjs},this.__unstable__updateProps=e=>{this.clerkjs&&"__unstable__updateProps"in this.clerkjs&&this.clerkjs.__unstable__updateProps(e)},this.setActive=e=>{let{session:t,organization:r,beforeEmit:n}=e;return this.clerkjs?this.clerkjs.setActive({session:t,organization:r,beforeEmit:n}):Promise.reject()},this.setSession=(e,t)=>(O("setSession","Use `Clerk.setActive` instead"),this.setActive({session:e,beforeEmit:t})),this.openSignIn=e=>{this.clerkjs&&G(this,s)?this.clerkjs.openSignIn(e):this.preopenSignIn=e},this.closeSignIn=()=>{this.clerkjs&&G(this,s)?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.openUserProfile=e=>{this.clerkjs&&G(this,s)?this.clerkjs.openUserProfile(e):this.preopenUserProfile=e},this.closeUserProfile=()=>{this.clerkjs&&G(this,s)?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=e=>{this.clerkjs&&G(this,s)?this.clerkjs.openOrganizationProfile(e):this.preopenOrganizationProfile=e},this.closeOrganizationProfile=()=>{this.clerkjs&&G(this,s)?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=e=>{this.clerkjs&&G(this,s)?this.clerkjs.openCreateOrganization(e):this.preopenCreateOrganization=e},this.closeCreateOrganization=()=>{this.clerkjs&&G(this,s)?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openSignUp=e=>{this.clerkjs&&G(this,s)?this.clerkjs.openSignUp(e):this.preopenSignUp=e},this.closeSignUp=()=>{this.clerkjs&&G(this,s)?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(e,t)=>{this.clerkjs&&G(this,s)?this.clerkjs.mountSignIn(e,t):this.premountSignInNodes.set(e,t)},this.unmountSignIn=e=>{this.clerkjs&&G(this,s)?this.clerkjs.unmountSignIn(e):this.premountSignInNodes.delete(e)},this.mountSignUp=(e,t)=>{this.clerkjs&&G(this,s)?this.clerkjs.mountSignUp(e,t):this.premountSignUpNodes.set(e,t)},this.unmountSignUp=e=>{this.clerkjs&&G(this,s)?this.clerkjs.unmountSignUp(e):this.premountSignUpNodes.delete(e)},this.mountUserProfile=(e,t)=>{this.clerkjs&&G(this,s)?this.clerkjs.mountUserProfile(e,t):this.premountUserProfileNodes.set(e,t)},this.unmountUserProfile=e=>{this.clerkjs&&G(this,s)?this.clerkjs.unmountUserProfile(e):this.premountUserProfileNodes.delete(e)},this.mountOrganizationProfile=(e,t)=>{this.clerkjs&&G(this,s)?this.clerkjs.mountOrganizationProfile(e,t):this.premountOrganizationProfileNodes.set(e,t)},this.unmountOrganizationProfile=e=>{this.clerkjs&&G(this,s)?this.clerkjs.unmountOrganizationProfile(e):this.premountOrganizationProfileNodes.delete(e)},this.mountCreateOrganization=(e,t)=>{this.clerkjs&&G(this,s)?this.clerkjs.mountCreateOrganization(e,t):this.premountCreateOrganizationNodes.set(e,t)},this.unmountCreateOrganization=e=>{this.clerkjs&&G(this,s)?this.clerkjs.unmountCreateOrganization(e):this.premountCreateOrganizationNodes.delete(e)},this.mountOrganizationSwitcher=(e,t)=>{this.clerkjs&&G(this,s)?this.clerkjs.mountOrganizationSwitcher(e,t):this.premountOrganizationSwitcherNodes.set(e,t)},this.unmountOrganizationSwitcher=e=>{this.clerkjs&&G(this,s)?this.clerkjs.unmountOrganizationSwitcher(e):this.premountOrganizationSwitcherNodes.delete(e)},this.mountOrganizationList=(e,t)=>{this.clerkjs&&G(this,s)?this.clerkjs.mountOrganizationList(e,t):this.premountOrganizationListNodes.set(e,t)},this.unmountOrganizationList=e=>{this.clerkjs&&G(this,s)?this.clerkjs.unmountOrganizationList(e):this.premountOrganizationListNodes.delete(e)},this.mountUserButton=(e,t)=>{this.clerkjs&&G(this,s)?this.clerkjs.mountUserButton(e,t):this.premountUserButtonNodes.set(e,t)},this.unmountUserButton=e=>{this.clerkjs&&G(this,s)?this.clerkjs.unmountUserButton(e):this.premountUserButtonNodes.delete(e)},this.addListener=e=>{let t=()=>{var t;return null===(t=this.clerkjs)||void 0===t?void 0:t.addListener(e)};return this.clerkjs?t():(this.premountMethodCalls.set("addListener",t),()=>this.premountMethodCalls.delete("addListener"))},this.navigate=e=>{let t=()=>{var t;return null===(t=this.clerkjs)||void 0===t?void 0:t.navigate(e)};this.clerkjs&&G(this,s)?t():this.premountMethodCalls.set("navigate",t)},this.redirectWithAuth=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];let i=()=>{var e;return null===(e=t.clerkjs)||void 0===e?void 0:e.redirectWithAuth(...r)};t.clerkjs&&G(t,s)?i():t.premountMethodCalls.set("redirectWithAuth",i)},this.redirectToSignIn=e=>{let t=()=>{var t;return null===(t=this.clerkjs)||void 0===t?void 0:t.redirectToSignIn(e)};this.clerkjs&&G(this,s)?t():this.premountMethodCalls.set("redirectToSignIn",t)},this.redirectToSignUp=e=>{let t=()=>{var t;return null===(t=this.clerkjs)||void 0===t?void 0:t.redirectToSignUp(e)};this.clerkjs&&G(this,s)?t():this.premountMethodCalls.set("redirectToSignUp",t)},this.redirectToUserProfile=()=>{let e=()=>{var e;return null===(e=this.clerkjs)||void 0===e?void 0:e.redirectToUserProfile()};this.clerkjs&&G(this,s)?e():this.premountMethodCalls.set("redirectToUserProfile",e)},this.redirectToHome=()=>{let e=()=>{var e;return null===(e=this.clerkjs)||void 0===e?void 0:e.redirectToHome()};this.clerkjs&&G(this,s)?e():this.premountMethodCalls.set("redirectToHome",e)},this.redirectToOrganizationProfile=()=>{let e=()=>{var e;return null===(e=this.clerkjs)||void 0===e?void 0:e.redirectToOrganizationProfile()};this.clerkjs&&G(this,s)?e():this.premountMethodCalls.set("redirectToOrganizationProfile",e)},this.redirectToCreateOrganization=()=>{let e=()=>{var e;return null===(e=this.clerkjs)||void 0===e?void 0:e.redirectToCreateOrganization()};this.clerkjs&&G(this,s)?e():this.premountMethodCalls.set("redirectToCreateOrganization",e)},this.handleRedirectCallback=e=>{let t=()=>{var t;return null===(t=this.clerkjs)||void 0===t?void 0:t.handleRedirectCallback(e)};if(this.clerkjs&&G(this,s)){var r;null===(r=t())||void 0===r||r.catch(()=>{})}else this.premountMethodCalls.set("handleRedirectCallback",t)},this.handleMagicLinkVerification=async e=>{O("handleMagicLinkVerification","Use `handleEmailLinkVerification` instead.");let t=()=>{var t;return null===(t=this.clerkjs)||void 0===t?void 0:t.handleMagicLinkVerification(e)};if(this.clerkjs&&G(this,s))return t();this.premountMethodCalls.set("handleMagicLinkVerification",t)},this.handleEmailLinkVerification=async e=>{let t=()=>{var t;return null===(t=this.clerkjs)||void 0===t?void 0:t.handleEmailLinkVerification(e)};if(this.clerkjs&&G(this,s))return t();this.premountMethodCalls.set("handleEmailLinkVerification",t)},this.authenticateWithMetamask=async e=>{let t=()=>{var t;return null===(t=this.clerkjs)||void 0===t?void 0:t.authenticateWithMetamask(e)};if(this.clerkjs&&G(this,s))return t();this.premountMethodCalls.set("authenticateWithMetamask",t)},this.createOrganization=async e=>{let t=()=>{var t;return null===(t=this.clerkjs)||void 0===t?void 0:t.createOrganization(e)};if(this.clerkjs&&G(this,s))return t();this.premountMethodCalls.set("createOrganization",t)},this.getOrganizationMemberships=async()=>{let e=()=>{var e;return null===(e=this.clerkjs)||void 0===e?void 0:e.getOrganizationMemberships()};if(this.clerkjs&&G(this,s))return e();this.premountMethodCalls.set("getOrganizationMemberships",e)},this.getOrganization=async e=>{let t=()=>{var t;return null===(t=this.clerkjs)||void 0===t?void 0:t.getOrganization(e)};if(this.clerkjs&&G(this,s))return t();this.premountMethodCalls.set("getOrganization",t)},this.signOut=async(e,t)=>{let r=()=>{var r;return null===(r=this.clerkjs)||void 0===r?void 0:r.signOut(e,t)};if(this.clerkjs&&G(this,s))return r();this.premountMethodCalls.set("signOut",r)};let{Clerk:r=null,frontendApi:n,publishableKey:i}=e||{};X(this,u,n),X(this,c,i),X(this,l,null==e?void 0:e.proxyUrl),X(this,a,null==e?void 0:e.domain),this.options=e,this.Clerk=r,this.mode="browser",this.loadClerkJS()}};s=new WeakMap,a=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,K(el,d=new WeakMap,void 0);let eu=(e,t,r)=>!e&&r?ec(r):ed(t),ec=e=>{let t=e.userId,r=e.user,n=e.sessionId,i=e.session,o=e.organization,s=e.orgId,a=e.orgRole;return{userId:t,user:r,sessionId:n,session:i,organization:o,orgId:s,orgRole:a,orgPermissions:e.orgPermissions,orgSlug:e.orgSlug,actor:e.actor,lastOrganizationInvitation:null,lastOrganizationMember:null}},ed=e=>{var t;let r=e.user?e.user.id:e.user,n=e.user,i=e.session?e.session.id:e.session,o=e.session,s=null==o?void 0:o.actor,a=e.organization,l=e.organization?e.organization.id:e.organization,u=null==a?void 0:a.slug,c=a?null==n?void 0:null===(t=n.organizationMemberships)||void 0===t?void 0:t.find(e=>e.organization.id===l):a,d=c?c.permissions:c;return{userId:r,user:n,sessionId:i,session:o,organization:a,orgId:l,orgRole:c?c.role:c,orgSlug:u,orgPermissions:d,actor:s,lastOrganizationInvitation:e.lastOrganizationInvitation,lastOrganizationMember:e.lastOrganizationMember}};var eh=r(2362);let ef=()=>{},ep=ef(),eg=Object,em=e=>e===ep,ev=e=>"function"==typeof e,ey=(e,t)=>({...e,...t}),eb=e=>ev(e.then),ew=new WeakMap,eS=0,ek=e=>{let t,r;let n=typeof e,i=e&&e.constructor,o=i==Date;if(eg(e)!==e||o||i==RegExp)t=o?e.toJSON():"symbol"==n?e.toString():"string"==n?JSON.stringify(e):""+e;else{if(t=ew.get(e))return t;if(t=++eS+"~",ew.set(e,t),i==Array){for(r=0,t="@";r<e.length;r++)t+=ek(e[r])+",";ew.set(e,t)}if(i==eg){t="#";let n=eg.keys(e).sort();for(;!em(r=n.pop());)em(e[r])||(t+=r+":"+ek(e[r])+",");ew.set(e,t)}}return t},eP=new WeakMap,e_={},eE={},eC="undefined",eO=typeof document!=eC,eR=()=>typeof window.requestAnimationFrame!=eC,eA=(e,t)=>{let r=eP.get(e);return[()=>!em(t)&&e.get(t)||e_,n=>{if(!em(t)){let i=e.get(t);t in eE||(eE[t]=i),r[5](t,ey(i,n),i||e_)}},r[6],()=>!em(t)&&t in eE?eE[t]:!em(t)&&e.get(t)||e_]},eL=!0,[ej,eM]=window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[ef,ef],eT={initFocus:e=>(eO&&document.addEventListener("visibilitychange",e),ej("focus",e),()=>{eO&&document.removeEventListener("visibilitychange",e),eM("focus",e)}),initReconnect:e=>{let t=()=>{eL=!0,e()},r=()=>{eL=!1};return ej("online",t),ej("offline",r),()=>{eM("online",t),eM("offline",r)}}},eI=!k.useId,ex="Deno"in window,eU=e=>eR()?window.requestAnimationFrame(e):setTimeout(e,1),eN=ex?k.useEffect:k.useLayoutEffect,eq="undefined"!=typeof navigator&&navigator.connection,ez=!ex&&eq&&(["slow-2g","2g"].includes(eq.effectiveType)||eq.saveData),eD=e=>{if(ev(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?ek(e):"",t]},eV=0,eB=()=>++eV;var eF={ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function eW(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[n,i,o,s]=t,a=ey({populateCache:!0,throwOnError:!0},"boolean"==typeof s?{revalidate:s}:s||{}),l=a.populateCache,u=a.rollbackOnError,c=a.optimisticData,d=!1!==a.revalidate,h=e=>"function"==typeof u?u(e):!1!==u,f=a.throwOnError;if(ev(i)){let e=[];for(let t of n.keys())!/^\$(inf|sub)\$/.test(t)&&i(n.get(t)._k)&&e.push(t);return Promise.all(e.map(p))}return p(i);async function p(e){let r;let[i]=eD(e);if(!i)return;let[s,a]=eA(n,i),[u,p,g,m]=eP.get(n),v=u[i],y=()=>d&&(delete g[i],delete m[i],v&&v[0])?v[0](2).then(()=>s().data):s().data;if(t.length<3)return y();let b=o,w=eB();p[i]=[w,0];let S=!em(c),k=s(),P=k.data,_=k._c,E=em(_)?P:_;if(S&&a({data:c=ev(c)?c(E,P):c,_c:E}),ev(b))try{b=b(E)}catch(e){r=e}if(b&&eb(b)){if(b=await b.catch(e=>{r=e}),w!==p[i][0]){if(r)throw r;return b}r&&S&&h(r)&&(l=!0,a({data:b=E,_c:ep}))}l&&!r&&(ev(l)&&(b=l(b,E)),a({data:b,error:ep,_c:ep})),p[i][1]=eB();let C=await y();if(a({_c:ep}),r){if(f)throw r;return}return l?C:b}}let eQ=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},eH=(e,t)=>{if(!eP.has(e)){let r=ey(eT,t),n={},i=eW.bind(ep,e),o=ef,s={},a=(e,t)=>{let r=s[e]||[];return s[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},l=(t,r,n)=>{e.set(t,r);let i=s[t];if(i)for(let e of i)e(r,n)},u=()=>{if(!eP.has(e)&&(eP.set(e,[n,{},{},{},i,l,a]),!ex)){let t=r.initFocus(setTimeout.bind(ep,eQ.bind(ep,n,0))),i=r.initReconnect(setTimeout.bind(ep,eQ.bind(ep,n,1)));o=()=>{t&&t(),i&&i(),eP.delete(e)}}};return u(),[e,i,u,o]}return[e,eP.get(e)[4]]},[e$,eJ]=eH(new Map),eG=ey({onLoadingSlow:ef,onSuccess:ef,onError:ef,onErrorRetry:(e,t,r,n,i)=>{let o=r.errorRetryCount,s=i.retryCount,a=~~((Math.random()+.5)*(1<<(s<8?s:8)))*r.errorRetryInterval;(em(o)||!(s>o))&&setTimeout(n,a,i)},onDiscarded:ef,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ez?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:ez?5e3:3e3,compare:(e,t)=>ek(e)==ek(t),isPaused:()=>!1,cache:e$,mutate:eJ,fallback:{}},{isOnline:()=>eL,isVisible:()=>{let e=eO&&document.visibilityState;return em(e)||"hidden"!==e}}),eK=(e,t)=>{let r=ey(e,t);if(t){let{use:n,fallback:i}=e,{use:o,fallback:s}=t;n&&o&&(r.use=n.concat(o)),i&&s&&(r.fallback=ey(i,s))}return r},eX=(0,k.createContext)({}),eZ=window.__SWR_DEVTOOLS_USE__,eY=eZ?window.__SWR_DEVTOOLS_USE__:[],e0=e=>ev(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],e1=()=>ey(eG,(0,k.useContext)(eX)),e2=(e,t)=>{let[r,n]=eD(e),[,,,i]=eP.get(e$);if(i[r])return i[r];let o=t(n);return i[r]=o,o},e4=eY.concat(e=>(t,r,n)=>{let i=r&&function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];let[o]=eD(t),[,,,s]=eP.get(e$),a=s[o];return em(a)?r(...n):(delete s[o],a)};return e(t,i,n)}),e8=(e,t,r)=>{let n=t[e]||(t[e]=[]);return n.push(r),()=>{let e=n.indexOf(r);e>=0&&(n[e]=n[n.length-1],n.pop())}};eZ&&(window.__SWR_DEVTOOLS_REACT__=k);let e3=e=>eD(e)[0],e6=k.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),e5={dedupe:!0},e9=eg.defineProperty(e=>{let{value:t}=e,r=(0,k.useContext)(eX),n=ev(t),i=(0,k.useMemo)(()=>n?t(r):t,[n,r,t]),o=(0,k.useMemo)(()=>n?i:eK(r,i),[n,r,i]),s=i&&i.provider,a=(0,k.useRef)(ep);s&&!a.current&&(a.current=eH(s(o.cache||e$),i));let l=a.current;return l&&(o.cache=l[0],o.mutate=l[1]),eN(()=>{if(l)return l[2]&&l[2](),l[3]},[]),(0,k.createElement)(eX.Provider,ey(e,{value:o}))},"defaultValue",{value:eG}),e7=(n=(e,t,r)=>{let{cache:n,compare:i,suspense:o,fallbackData:s,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:u,refreshWhenHidden:c,refreshWhenOffline:d,keepPreviousData:h}=r,[f,p,g,m]=eP.get(n),[v,y]=eD(e),b=(0,k.useRef)(!1),w=(0,k.useRef)(!1),S=(0,k.useRef)(v),P=(0,k.useRef)(t),_=(0,k.useRef)(r),E=()=>_.current,C=()=>E().isVisible()&&E().isOnline(),[O,R,A,L]=eA(n,v),j=(0,k.useRef)({}).current,M=em(s)?r.fallback[v]:s,T=(e,t)=>{for(let r in j)if("data"===r){if(!i(e[r],t[r])&&(!em(e[r])||!i(B,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},I=(0,k.useMemo)(()=>{let e=!!v&&!!t&&(em(a)?!E().isPaused()&&!o&&(!!em(l)||l):a),r=t=>{let r=ey(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},n=O(),i=L(),s=r(n),u=n===i?s:r(i),c=s;return[()=>{let e=r(O());return T(e,c)?(c.data=e.data,c.isLoading=e.isLoading,c.isValidating=e.isValidating,c.error=e.error,c):(c=e,e)},()=>u]},[n,v]),x=(0,eh.useSyncExternalStore)((0,k.useCallback)(e=>A(v,(t,r)=>{T(r,t)||e()}),[n,v]),I[0],I[1]),U=!b.current,N=f[v]&&f[v].length>0,q=x.data,z=em(q)?M:q,D=x.error,V=(0,k.useRef)(z),B=h?em(q)?V.current:q:z,F=(!N||!!em(D))&&(U&&!em(a)?a:!E().isPaused()&&(o?!em(z)&&l:em(z)||l)),W=!!(v&&t&&U&&F),Q=em(x.isValidating)?W:x.isValidating,H=em(x.isLoading)?W:x.isLoading,$=(0,k.useCallback)(async e=>{let t,n;let o=P.current;if(!v||!o||w.current||E().isPaused())return!1;let s=!0,a=e||{},l=!g[v]||!a.dedupe,u=()=>eI?!w.current&&v===S.current&&b.current:v===S.current,c={isValidating:!1,isLoading:!1},d=()=>{R(c)},h=()=>{let e=g[v];e&&e[1]===n&&delete g[v]},m={isValidating:!0};em(O().data)&&(m.isLoading=!0);try{if(l&&(R(m),r.loadingTimeout&&em(O().data)&&setTimeout(()=>{s&&u()&&E().onLoadingSlow(v,r)},r.loadingTimeout),g[v]=[o(y),eB()]),[t,n]=g[v],t=await t,l&&setTimeout(h,r.dedupingInterval),!g[v]||g[v][1]!==n)return l&&u()&&E().onDiscarded(v),!1;c.error=ep;let e=p[v];if(!em(e)&&(n<=e[0]||n<=e[1]||0===e[1]))return d(),l&&u()&&E().onDiscarded(v),!1;let a=O().data;c.data=i(a,t)?a:t,l&&u()&&E().onSuccess(t,v,r)}catch(r){h();let e=E(),{shouldRetryOnError:t}=e;!e.isPaused()&&(c.error=r,l&&u()&&(e.onError(r,v,e),(!0===t||ev(t)&&t(r))&&C()&&e.onErrorRetry(r,v,e,e=>{let t=f[v];t&&t[0]&&t[0](eF.ERROR_REVALIDATE_EVENT,e)},{retryCount:(a.retryCount||0)+1,dedupe:!0})))}return s=!1,d(),!0},[v,n]),J=(0,k.useCallback)(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return eW(n,S.current,...t)},[]);if(eN(()=>{P.current=t,_.current=r,em(q)||(V.current=q)}),eN(()=>{if(!v)return;let e=$.bind(ep,e5),t=0,r=e8(v,f,function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r==eF.FOCUS_EVENT){let r=Date.now();E().revalidateOnFocus&&r>t&&C()&&(t=r+E().focusThrottleInterval,e())}else if(r==eF.RECONNECT_EVENT)E().revalidateOnReconnect&&C()&&e();else if(r==eF.MUTATE_EVENT)return $();else if(r==eF.ERROR_REVALIDATE_EVENT)return $(n)});return w.current=!1,S.current=v,b.current=!0,R({_k:y}),F&&(em(z)||ex?e():eU(e)),()=>{w.current=!0,r()}},[v]),eN(()=>{let e;function t(){let t=ev(u)?u(O().data):u;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!O().error&&(c||E().isVisible())&&(d||E().isOnline())?$(e5).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[u,c,d,v]),(0,k.useDebugValue)(B),o&&em(z)&&v){if(!eI&&ex)throw Error("Fallback data is required when using suspense in SSR.");P.current=t,_.current=r,w.current=!1;let e=m[v];if(em(e)||e6(J(e)),em(D)){let e=$(e5);em(B)||(e.status="fulfilled",e.value=!0),e6(e)}else throw D}return{mutate:J,get data(){return j.data=!0,B},get error(){return j.error=!0,D},get isValidating(){return j.isValidating=!0,Q},get isLoading(){return j.isLoading=!0,H}}},function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let i=e1(),[o,s,a]=e0(t),l=eK(i,a),u=n,{use:c}=l,d=(c||[]).concat(e4);for(let e=d.length;e--;)u=d[e](u);return u(o,s||l.fetcher||null,l)}),te=e=>eD(e?e(0,null):null)[0],tt=Promise.resolve(),tr=(i=e=>(t,r,n)=>{let i;let o=(0,k.useRef)(!1),{cache:s,initialSize:a=1,revalidateAll:l=!1,persistSize:u=!1,revalidateFirstPage:c=!0,revalidateOnMount:d=!1,parallel:h=!1}=n;try{(i=te(t))&&(i="$inf$"+i)}catch(e){}let[f,p,g]=eA(s,i),m=(0,k.useCallback)(()=>em(f()._l)?a:f()._l,[s,i,a]);(0,eh.useSyncExternalStore)((0,k.useCallback)(e=>i?g(i,()=>{e()}):()=>{},[s,i]),m,m);let v=(0,k.useCallback)(()=>{let e=f()._l;return em(e)?a:e},[i,a]),y=(0,k.useRef)(v());eN(()=>{if(!o.current){o.current=!0;return}i&&p({_l:u?y.current:v()})},[i,s]);let b=d&&!o.current,w=e(i,async e=>{let i=f()._i,o=[],a=v(),[u]=eA(s,e),d=u().data,g=[],m=null;for(let e=0;e<a;++e){let[a,u]=eD(t(e,h?null:m));if(!a)break;let[f,p]=eA(s,a),v=f().data,y=l||i||em(v)||c&&!e&&!em(d)||b||d&&!em(d[e])&&!n.compare(d[e],v);if(r&&y){let t=async()=>{p({data:v=await r(u),_k:u}),o[e]=v};h?g.push(t):await t()}else o[e]=v;h||(m=v)}return h&&await Promise.all(g.map(e=>e())),p({_i:ep}),o},n),S=(0,k.useCallback)(function(e,t){let r="boolean"==typeof t?{revalidate:t}:t||{},n=!1!==r.revalidate;return i?(n&&(em(e)?p({_i:!0}):p({_i:!1})),arguments.length?w.mutate(e,{...r,revalidate:n}):w.mutate()):tt},[i,s]),P=(0,k.useCallback)(e=>{let r;if(!i)return tt;let[,n]=eA(s,i);if(ev(e)?r=e(v()):"number"==typeof e&&(r=e),"number"!=typeof r)return tt;n({_l:r}),y.current=r;let o=[],[a]=eA(s,i),l=null;for(let e=0;e<r;++e){let[r]=eD(t(e,l)),[n]=eA(s,r),i=r?n().data:ep;if(em(i))return S(a().data);o.push(i),l=i}return S(o)},[i,s,S,v]);return{size:v(),setSize:P,mutate:S,get data(){return w.data},get error(){return w.error},get isValidating(){return w.isValidating},get isLoading(){return w.isLoading}}},function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[n,o,s]=e0(t),a=(s.use||[]).concat(i);return e7(n,o,{...s,use:a})});function tn(e,t){if(!e)throw"string"==typeof t?Error(t):Error("".concat(t.displayName," not found"))}var ti=(e,t)=>{let{assertCtxFn:r=tn}=t||{},n=k.createContext(void 0);return n.displayName=e,[n,()=>{let t=k.useContext(n);return r(t,"".concat(e," not found")),t.value},()=>{let e=k.useContext(n);return e?e.value:{}}]},to={};((e,t)=>{for(var r in t)v(e,r,{get:t[r],enumerable:!0})})(to,{SWRConfig:()=>e9,useSWR:()=>e7,useSWRInfinite:()=>tr}),S(to,h,"default"),o&&S(o,h,"default");var[ts,ta]=ti("ClerkInstanceContext"),[tl,tu]=ti("UserContext"),[tc,td]=ti("ClientContext"),[th,tf]=ti("SessionContext"),[tp,tg]=ti("OrganizationContext"),tm=e=>{let{children:t,organization:r,lastOrganizationMember:n,lastOrganizationInvitation:i,swrConfig:o}=e;return k.createElement(e9,{value:o},k.createElement(tp.Provider,{value:{value:{organization:r,lastOrganizationMember:n,lastOrganizationInvitation:i}}},t))};function tv(e,t){let r=new Set(Object.keys(t)),n={};for(let t of Object.keys(e))r.has(t)||(n[t]=e[t]);return n}var ty=(e,t)=>{var r,n,i;let o="boolean"==typeof e&&e,s=(0,k.useRef)(o?t.initialPage:null!==(r=null==e?void 0:e.initialPage)&&void 0!==r?r:t.initialPage),a=(0,k.useRef)(o?t.pageSize:null!==(n=null==e?void 0:e.pageSize)&&void 0!==n?n:t.pageSize),l={};for(let r of Object.keys(t))l[r]=o?t[r]:null!==(i=null==e?void 0:e[r])&&void 0!==i?i:t[r];return{...l,initialPage:s.current,pageSize:a.current}},tb=(e,t,r,n)=>{var i,o,s,a,l,u;let[c,d]=(0,k.useState)(null!==(i=e.initialPage)&&void 0!==i?i:1),h=(0,k.useRef)(null!==(o=e.initialPage)&&void 0!==o?o:1),f=(0,k.useRef)(null!==(s=e.pageSize)&&void 0!==s?s:10),p=null===(a=r.enabled)||void 0===a||a,g=null!==(l=r.infinite)&&void 0!==l&&l,m=null!==(u=r.keepPreviousData)&&void 0!==u&&u,v={...n,...e,initialPage:c,pageSize:f.current},{data:y,isValidating:b,isLoading:w,error:S,mutate:P}=e7(!g&&t&&p?v:null,e=>{let r=tv(e,n);return null==t?void 0:t(r)},{keepPreviousData:m}),{data:_,isLoading:E,isValidating:C,error:O,size:R,setSize:A,mutate:L}=tr(t=>g&&p?{...e,...n,initialPage:h.current+t,pageSize:f.current}:null,e=>{let r=tv(e,n);return null==t?void 0:t(r)}),j=(0,k.useMemo)(()=>g?R:c,[g,R,c]),M=(0,k.useCallback)(e=>{if(g){A(e);return}return d(e)},[A]),T=(0,k.useMemo)(()=>{var e,t;return g?null!==(e=null==_?void 0:_.map(e=>null==e?void 0:e.data).flat())&&void 0!==e?e:[]:null!==(t=null==y?void 0:y.data)&&void 0!==t?t:[]},[g,y,_]),I=(0,k.useMemo)(()=>{var e,t;return g?(null==_?void 0:null===(e=_[(null==_?void 0:_.length)-1])||void 0===e?void 0:e.total_count)||0:null!==(t=null==y?void 0:y.total_count)&&void 0!==t?t:0},[g,y,_]),x=g?E:w,U=g?C:b,N=!!(g?O:S),q=(0,k.useCallback)(()=>{M(e=>Math.max(0,e+1))},[M]),z=(0,k.useCallback)(()=>{M(e=>Math.max(0,e-1))},[M]),D=(h.current-1)*f.current,V=Math.ceil((I-D)/f.current),B=I-D*f.current>j*f.current,F=(j-1)*f.current>D*f.current,W=g?e=>L(e,{revalidate:!1}):e=>P(e,{revalidate:!1});return{data:T,count:I,isLoading:x,isFetching:U,isError:N,page:j,pageCount:V,fetchPage:M,fetchNext:q,fetchPrevious:z,hasNextPage:B,hasPreviousPage:F,revalidate:g?()=>L():()=>P(),setData:W}},tw={data:void 0,count:void 0,isLoading:!1,isFetching:!1,isError:!1,page:void 0,pageCount:void 0,fetchPage:void 0,fetchNext:void 0,fetchPrevious:void 0,hasNextPage:!1,hasPreviousPage:!1,revalidate:void 0,setData:void 0},tS=e=>{var t,r;let{invitationList:n,membershipList:i,domains:o,membershipRequests:s,memberships:a,invitations:l}=e||{},{organization:u,lastOrganizationMember:c,lastOrganizationInvitation:d}=tg(),h=tf(),f=ty(o,{initialPage:1,pageSize:10,keepPreviousData:!1,infinite:!1,enrollmentMode:void 0}),p=ty(s,{initialPage:1,pageSize:10,status:"pending",keepPreviousData:!1,infinite:!1}),g=ty(a,{initialPage:1,pageSize:10,role:void 0,keepPreviousData:!1,infinite:!1}),m=ty(l,{initialPage:1,pageSize:10,status:["pending"],keepPreviousData:!1,infinite:!1}),v=ta(),y=!!(v.loaded&&h&&u),b=void 0===o?void 0:{initialPage:f.initialPage,pageSize:f.pageSize,enrollmentMode:f.enrollmentMode},w=void 0===s?void 0:{initialPage:p.initialPage,pageSize:p.pageSize,status:p.status},S=void 0===a?void 0:{initialPage:g.initialPage,pageSize:g.pageSize,role:g.role},k=void 0===l?void 0:{initialPage:m.initialPage,pageSize:m.pageSize,status:m.status},P=tb({...b},null==u?void 0:u.getDomains,{keepPreviousData:f.keepPreviousData,infinite:f.infinite,enabled:!!b},{type:"domains",organizationId:null==u?void 0:u.id}),_=tb({...w},null==u?void 0:u.getMembershipRequests,{keepPreviousData:p.keepPreviousData,infinite:p.infinite,enabled:!!w},{type:"membershipRequests",organizationId:null==u?void 0:u.id}),E=tb({...S,paginated:!0},null==u?void 0:u.getMemberships,{keepPreviousData:g.keepPreviousData,infinite:g.infinite,enabled:!!S},{type:"members",organizationId:null==u?void 0:u.id}),C=tb({...k},null==u?void 0:u.getInvitations,{keepPreviousData:m.keepPreviousData,infinite:m.infinite,enabled:!!k},{type:"invitations",organizationId:null==u?void 0:u.id}),R=v.loaded?()=>{var e;return null===(e=v.organization)||void 0===e?void 0:e.getPendingInvitations(n)}:()=>[],A=v.loaded?()=>{var e;return null===(e=v.organization)||void 0===e?void 0:e.getMemberships(i)}:()=>[];n&&O("invitationList in useOrganization","Use the `invitations` property and return value instead.");let{data:L,isValidating:j,mutate:M}=e7(y&&n?tk("invites",u,d,n):null,R);i&&O("membershipList in useOrganization","Use the `memberships` property and return value instead.");let{data:T,isValidating:I,mutate:x}=e7(y&&i?tk("memberships",u,c,i):null,A);return void 0===u?{isLoaded:!1,organization:void 0,invitationList:void 0,membershipList:void 0,membership:void 0,domains:tw,membershipRequests:tw,memberships:tw,invitations:tw}:null===u?{isLoaded:!0,organization:null,invitationList:null,membershipList:null,membership:null,domains:null,membershipRequests:null,memberships:null,invitations:null}:!v.loaded&&u?{isLoaded:!0,organization:u,invitationList:void 0,membershipList:void 0,membership:void 0,domains:tw,membershipRequests:tw,memberships:tw,invitations:tw}:{isLoaded:!I&&!j,organization:u,membershipList:T,membership:(t=h.user.organizationMemberships,r=u.id,t.find(e=>e.organization.id===r)),invitationList:L,unstable__mutate:()=>{x(),M()},domains:P,membershipRequests:_,memberships:E,invitations:C}};function tk(e,t,r,n){return[e,t.id,null==r?void 0:r.id,null==r?void 0:r.updatedAt,n.offset,n.limit].filter(Boolean).join("-")}var tP={data:void 0,count:void 0,isLoading:!1,isFetching:!1,isError:!1,page:void 0,pageCount:void 0,fetchPage:void 0,fetchNext:void 0,fetchPrevious:void 0,hasNextPage:!1,hasPreviousPage:!1,revalidate:void 0,setData:void 0},t_=e=>{let{userMemberships:t,userInvitations:r,userSuggestions:n}=e||{},i=ty(t,{initialPage:1,pageSize:10,keepPreviousData:!1,infinite:!1}),o=ty(r,{initialPage:1,pageSize:10,status:"pending",keepPreviousData:!1,infinite:!1}),s=ty(n,{initialPage:1,pageSize:10,status:"pending",keepPreviousData:!1,infinite:!1}),a=ta(),l=tu(),u=void 0===t?void 0:{initialPage:i.initialPage,pageSize:i.pageSize},c=void 0===r?void 0:{initialPage:o.initialPage,pageSize:o.pageSize,status:o.status},d=void 0===n?void 0:{initialPage:s.initialPage,pageSize:s.pageSize,status:s.status},h=!!(a.loaded&&l),f=tb({...u,paginated:!0},null==l?void 0:l.getOrganizationMemberships,{keepPreviousData:i.keepPreviousData,infinite:i.infinite,enabled:!!u},{type:"userMemberships",userId:null==l?void 0:l.id}),p=tb({...c},null==l?void 0:l.getOrganizationInvitations,{keepPreviousData:o.keepPreviousData,infinite:o.infinite,enabled:!!c},{type:"userInvitations",userId:null==l?void 0:l.id}),g=tb({...d},null==l?void 0:l.getOrganizationSuggestions,{keepPreviousData:s.keepPreviousData,infinite:s.infinite,enabled:!!d},{type:"userSuggestions",userId:null==l?void 0:l.id});if(!h)return{isLoaded:!1,organizationList:void 0,createOrganization:void 0,setActive:void 0,userMemberships:tP,userInvitations:tP,userSuggestions:tP};let m={isLoaded:h,organizationList:l.organizationMemberships.map(e=>({membership:e,organization:e.organization})),setActive:a.setActive,createOrganization:a.createOrganization,userMemberships:f,userInvitations:p,userSuggestions:g};return R(m,"organizationList","Use `userMemberships` instead."),m},tE=()=>{O("useOrganizations","Use useOrganizationList, useOrganization, or useClerk instead.");let e=ta();return e.loaded?{isLoaded:!0,createOrganization:e.createOrganization,getOrganizationMemberships:e.getOrganizationMemberships,getOrganization:e.getOrganization}:{isLoaded:!1,createOrganization:void 0,getOrganizationMemberships:void 0,getOrganization:void 0}};k.useLayoutEffect;let[tC,tO]=ti("AuthContext"),[tR,tA]=[ts,ta];function tL(e){let{isomorphicClerkOptions:t,initialState:r,children:n}=e,{isomorphicClerk:i,loaded:o}=tj(t);t.frontendApi&&O("frontendApi","Use `publishableKey` instead.");let[s,a]=k.useState({client:i.client,session:i.session,user:i.user,organization:i.organization,lastOrganizationInvitation:null,lastOrganizationMember:null});k.useEffect(()=>i.addListener(e=>a({...e})),[]);let l=eu(o,s,r),u=k.useMemo(()=>({value:i}),[o]),c=k.useMemo(()=>({value:s.client}),[s.client]),{sessionId:d,session:h,userId:f,user:p,orgId:g,actor:m,lastOrganizationInvitation:v,lastOrganizationMember:y,organization:b,orgRole:w,orgSlug:S,orgPermissions:P}=l,_=k.useMemo(()=>({value:{sessionId:d,userId:f,actor:m,orgId:g,orgRole:w,orgSlug:S,orgPermissions:P}}),[d,f,m,g,w,S]),E=k.useMemo(()=>({value:p}),[f,p]),C=k.useMemo(()=>({value:h}),[d,h]),R=k.useMemo(()=>({value:{organization:b,lastOrganizationInvitation:v,lastOrganizationMember:y}}),[g,b,v,y]);return k.createElement(tR.Provider,{value:u},k.createElement(tc.Provider,{value:c},k.createElement(th.Provider,{value:C},k.createElement(tm,{...R.value},k.createElement(tC.Provider,{value:_},k.createElement(tl.Provider,{value:E},n))))))}let tj=e=>{let[t,r]=k.useState(!1),n=k.useMemo(()=>el.getOrCreateInstance(e),[]);return k.useEffect(()=>{n.__unstable__updateProps({appearance:e.appearance})},[e.appearance]),k.useEffect(()=>{n.__unstable__updateProps({options:e})},[e.localization]),k.useEffect(()=>{n.addOnLoaded(()=>r(!0))},[]),k.useEffect(()=>()=>{el.clearInstance()},[]),{isomorphicClerk:n,loaded:t}},tM=Object.freeze({noGuarantees:Object.freeze({guaranteedLoaded:!1}),guaranteedLoaded:Object.freeze({guaranteedLoaded:!0})}),tT=k.createContext(void 0);tT.displayName="StructureContext";let tI=()=>{let e=k.useContext(tT);return!function(e){if(!e)throw Error("Clerk: You must wrap your application in a <ClerkProvider> component.")}(e),e},tx=e=>{let{children:t}=e;return tI().guaranteedLoaded?k.createElement(k.Fragment,null,t):k.createElement(tT.Provider,{value:tM.guaranteedLoaded},t)};H({packageName:"@clerk/clerk-react"});let tU=function(e,t,r){let n=e.displayName||e.name||t||"Component",i=n=>(!function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;k.useEffect(()=>{let n=$.get(e)||0;if(n==r)throw Error(t);return $.set(e,n+1),()=>{$.set(e,($.get(e)||1)-1)}},[])}(t,r),k.createElement(e,{...n}));return i.displayName="withMaxAllowedInstancesGuard(".concat(n,")"),i}(function(e){let{initialState:t,children:r,...n}=e,{frontendApi:i="",publishableKey:o="",Clerk:s}=n;return!s&&(o||i?o&&!m(o)?Q.throwInvalidPublishableKeyError({key:o}):o||!i||(i||"").startsWith("clerk.")||Q.throwInvalidFrontendApiError({key:i}):Q.throwMissingPublishableKeyError()),k.createElement(tT.Provider,{value:tM.noGuarantees},k.createElement(tL,{initialState:t,isomorphicClerkOptions:n},r))},"ClerkProvider","Clerk: You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.");tU.displayName="ClerkProvider";var tN=e=>{let t=r=>{if(!r)return r;if(Array.isArray(r))return r.map(e=>"object"==typeof e||Array.isArray(e)?t(e):e);let n={...r};for(let r of Object.keys(n)){let i=e(r.toString());i!==r&&(n[i]=n[r],delete n[r]),"object"==typeof n[i]&&(n[i]=t(n[i]))}return n};return t};tN(function(e){return e?e.replace(/[A-Z]/g,e=>"_".concat(e.toLowerCase())):""}),tN(function(e){return e?e.replace(/([-_][a-z])/g,e=>e.toUpperCase().replace(/-|_/,"")):""}),Object.freeze({"image/png":"png","image/jpeg":"jpg","image/gif":"gif","image/webp":"webp","image/x-icon":"ico","image/vnd.microsoft.icon":"ico"});var tq=e=>{P()&&console.error(e)},tz=r(9542);let tD=e=>{let t=Array(e.length).fill(null),[r,n]=(0,k.useState)(t);return e.map((e,t)=>({id:e.id,mount:e=>n(r=>r.map((r,n)=>n===t?e:r)),unmount:()=>n(e=>e.map((e,r)=>r===t?null:e)),portal:()=>k.createElement(k.Fragment,null,r[t]?(0,tz.createPortal)(e.component,r[t]):null)}))},tV=(e,t)=>!!e&&k.isValidElement(e)&&(null==e?void 0:e.type)===t,tB=e=>tW({children:e,reorderItemsLabels:["account","security"],LinkComponent:t0,PageComponent:tY,componentName:"UserProfile"}),tF=e=>tW({children:e,reorderItemsLabels:["members","settings"],LinkComponent:t8,PageComponent:t4,componentName:"OrganizationProfile"}),tW=e=>{let{children:t,LinkComponent:r,PageComponent:n,reorderItemsLabels:i,componentName:o}=e,s=[];k.Children.forEach(t,e=>{if(!tV(e,n)&&!tV(e,r)){e&&tq(B(o));return}let{props:t}=e,{children:a,label:l,url:u,labelIcon:c}=t;if(tV(e,n)){if(tQ(t,i))s.push({label:l});else if(tH(t))s.push({label:l,labelIcon:c,children:a,url:u});else{tq(F(o));return}}if(tV(e,r)){if(t$(t))s.push({label:l,labelIcon:c,url:u});else{tq(W(o));return}}});let a=[],l=[],u=[];s.forEach((e,t)=>{if(tH(e)){a.push({component:e.children,id:t}),l.push({component:e.labelIcon,id:t});return}t$(e)&&u.push({component:e.labelIcon,id:t})});let c=tD(a),d=tD(l),h=tD(u),f=[],p=[];return s.forEach((e,t)=>{if(tQ(e,i)){f.push({label:e.label});return}if(tH(e)){let{portal:r,mount:n,unmount:i}=c.find(e=>e.id===t),{portal:o,mount:s,unmount:a}=d.find(e=>e.id===t);f.push({label:e.label,url:e.url,mount:n,unmount:i,mountIcon:s,unmountIcon:a}),p.push(r),p.push(o);return}if(t$(e)){let{portal:r,mount:n,unmount:i}=h.find(e=>e.id===t);f.push({label:e.label,url:e.url,mountIcon:n,unmountIcon:i}),p.push(r);return}}),{customPages:f,customPagesPortals:p}},tQ=(e,t)=>{let{children:r,label:n,url:i,labelIcon:o}=e;return!r&&!i&&!o&&t.some(e=>e===n)},tH=e=>{let{children:t,label:r,url:n,labelIcon:i}=e;return!!t&&!!n&&!!i&&!!r},t$=e=>{let{children:t,label:r,url:n,labelIcon:i}=e;return!t&&!!n&&!!i&&!!r},tJ=(e,t)=>{t=t||e.displayName||e.name||"Component",e.displayName=t;let r=t=>{let r=tA();return r.loaded?k.createElement(tx,null,k.createElement(e,{...t,clerk:r})):null};return r.displayName="withClerk(".concat(t,")"),r},tG=e=>{let{children:t}=e,r=tA();if("function"!=typeof t)throw Error(z);return r.loaded?k.createElement(tx,null,t(r)):null};class tK extends k.PureComponent{componentDidUpdate(e){var t,r,n,i;(e.props.appearance!==this.props.props.appearance||(null===(r=e.props)||void 0===r?void 0:null===(t=r.customPages)||void 0===t?void 0:t.length)!==(null===(i=this.props.props)||void 0===i?void 0:null===(n=i.customPages)||void 0===n?void 0:n.length))&&this.props.updateProps({node:this.portalRef.current,props:this.props.props})}componentDidMount(){this.portalRef.current&&this.props.mount(this.portalRef.current,this.props.props)}componentWillUnmount(){this.portalRef.current&&this.props.unmount(this.portalRef.current)}render(){var e,t;return k.createElement(k.Fragment,null,k.createElement("div",{ref:this.portalRef}),null===(t=this.props)||void 0===t?void 0:null===(e=t.customPagesPortals)||void 0===e?void 0:e.map((e,t)=>(0,k.createElement)(e,{key:t})))}constructor(){super(...arguments),this.portalRef=k.createRef()}}let tX=tJ(e=>{let{clerk:t,...r}=e;return k.createElement(tK,{mount:t.mountSignIn,unmount:t.unmountSignIn,updateProps:t.__unstable__updateProps,props:r})},"SignIn"),tZ=tJ(e=>{let{clerk:t,...r}=e;return k.createElement(tK,{mount:t.mountSignUp,unmount:t.unmountSignUp,updateProps:t.__unstable__updateProps,props:r})},"SignUp");function tY(e){let{children:t}=e;return tq("Clerk: <UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`."),k.createElement(k.Fragment,null,t)}function t0(e){let{children:t}=e;return tq("Clerk: <UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`."),k.createElement(k.Fragment,null,t)}let t1=Object.assign(tJ(e=>{let{clerk:t,...r}=e,{customPages:n,customPagesPortals:i}=tB(r.children);return k.createElement(tK,{mount:t.mountUserProfile,unmount:t.unmountUserProfile,updateProps:t.__unstable__updateProps,props:{...r,customPages:n},customPagesPortals:i})},"UserProfile"),{Page:tY,Link:t0}),t2=Object.assign(tJ(e=>{let{clerk:t,...r}=e,{customPages:n,customPagesPortals:i}=tB(r.children),o=Object.assign(r.userProfileProps||{},{customPages:n});return k.createElement(tK,{mount:t.mountUserButton,unmount:t.unmountUserButton,updateProps:t.__unstable__updateProps,props:{...r,userProfileProps:o},customPagesPortals:i})},"UserButton"),{UserProfilePage:tY,UserProfileLink:t0});function t4(e){let{children:t}=e;return tq("Clerk: <OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`."),k.createElement(k.Fragment,null,t)}function t8(e){let{children:t}=e;return tq("Clerk: <OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`."),k.createElement(k.Fragment,null,t)}let t3=Object.assign(tJ(e=>{let{clerk:t,...r}=e,{customPages:n,customPagesPortals:i}=tF(r.children);return k.createElement(tK,{mount:t.mountOrganizationProfile,unmount:t.unmountOrganizationProfile,updateProps:t.__unstable__updateProps,props:{...r,customPages:n},customPagesPortals:i})},"OrganizationProfile"),{Page:t4,Link:t8}),t6=tJ(e=>{let{clerk:t,...r}=e;return k.createElement(tK,{mount:t.mountCreateOrganization,unmount:t.unmountCreateOrganization,updateProps:t.__unstable__updateProps,props:r})},"CreateOrganization"),t5=Object.assign(tJ(e=>{let{clerk:t,...r}=e,{customPages:n,customPagesPortals:i}=tF(r.children),o=Object.assign(r.organizationProfileProps||{},{customPages:n});return k.createElement(tK,{mount:t.mountOrganizationSwitcher,unmount:t.unmountOrganizationSwitcher,updateProps:t.__unstable__updateProps,props:{...r,organizationProfileProps:o},customPagesPortals:i})},"OrganizationSwitcher"),{OrganizationProfilePage:t4,OrganizationProfileLink:t8}),t9=tJ(e=>{let{clerk:t,...r}=e;return k.createElement(tK,{mount:t.mountOrganizationList,unmount:t.unmountOrganizationList,updateProps:t.__unstable__updateProps,props:r})},"OrganizationList"),t7=e=>new Promise(t=>{e.loaded&&t(),e.addOnLoaded(t)}),re=e=>async t=>(await t7(e),e.session)?e.session.getToken(t):null,rt=e=>async function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return await t7(e),e.signOut(...r)},rr=()=>{let{sessionId:e,userId:t,actor:r,orgId:n,orgRole:i,orgSlug:o,orgPermissions:s}=tO(),a=tA(),l=(0,k.useCallback)(re(a),[a]),u=(0,k.useCallback)(rt(a),[a]),c=(0,k.useCallback)(e=>{if(!(null==e?void 0:e.permission)&&!(null==e?void 0:e.role))throw Error('Clerk: Missing parameters. `has` from `useAuth` requires a permission or role key to be passed. Example usage: `has({permission: "org:posts:edit"`');return!!n&&!!t&&!!i&&!!s&&(e.permission?s.includes(e.permission):!!e.role&&i===e.role)},[n,i,t,s]);if(void 0===e&&void 0===t)return{isLoaded:!1,isSignedIn:void 0,sessionId:e,userId:t,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:u,getToken:l};if(null===e&&null===t)return{isLoaded:!0,isSignedIn:!1,sessionId:e,userId:t,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:u,getToken:l};if(e&&t&&n&&i)return{isLoaded:!0,isSignedIn:!0,sessionId:e,userId:t,actor:r||null,orgId:n,orgRole:i,orgSlug:o||null,has:c,signOut:u,getToken:l};if(e&&t&&!n)return{isLoaded:!0,isSignedIn:!0,sessionId:e,userId:t,actor:r||null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:u,getToken:l};throw Error("Clerk: Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support")},rn=e=>{let{children:t}=e,{userId:r}=tO();return r?k.createElement(k.Fragment,null,t):null},ri=e=>{let{children:t}=e,{userId:r}=tO();return null===r?k.createElement(k.Fragment,null,t):null},ro=e=>{let{children:t}=e;return tA().loaded?k.createElement(tx,null,t):null},rs=e=>{let{children:t}=e;return tA().loaded?null:k.createElement(k.Fragment,null,t)},ra=e=>{let{children:t,fallback:r,...n}=e,{isLoaded:i,has:o,userId:s}=rr();if(!i)return null;let a=k.createElement(k.Fragment,null,null!=r?r:null),l=k.createElement(k.Fragment,null,t);return s?"function"==typeof n.condition?n.condition(o)?l:a:n.role||n.permission?o(n)?l:a:l:a},rl=tJ(e=>{let{clerk:t,...r}=e,{client:n,session:i}=t,{__unstable__environment:o}=t,s=n.activeSessions&&n.activeSessions.length>0;return k.useEffect(()=>{if(null===i&&s&&o){let{afterSignOutOneUrl:e}=o.displayConfig;t.navigate(e)}else t.redirectToSignIn(r)},[]),null},"RedirectToSignIn"),ru=tJ(e=>{let{clerk:t,...r}=e;return k.useEffect(()=>{t.redirectToSignUp(r)},[]),null},"RedirectToSignUp"),rc=tJ(e=>{let{clerk:t}=e;return k.useEffect(()=>{t.redirectToUserProfile()},[]),null},"RedirectToUserProfile"),rd=tJ(e=>{let{clerk:t}=e;return k.useEffect(()=>{t.redirectToOrganizationProfile()},[]),null},"RedirectToOrganizationProfile"),rh=tJ(e=>{let{clerk:t}=e;return k.useEffect(()=>{t.redirectToCreateOrganization()},[]),null},"RedirectToCreateOrganization"),rf=tJ(e=>{let{clerk:t,...r}=e;return k.useEffect(()=>{t.handleRedirectCallback(r)},[]),null},"AuthenticateWithRedirectCallback"),rp=e=>{let{children:t}=e,r=tf();return k.createElement(k.Fragment,{key:r?r.id:"no-users"},t)},rg=(e,t)=>{t=t||e.displayName||e.name||"Component",e.displayName=t;let r=t=>{let r=tu();return r?k.createElement(e,{...t,user:r}):null};return r.displayName="withUser(".concat(t,")"),r},rm=e=>{let{children:t}=e,r=tu();if("function"!=typeof t)throw Error(z);return r?k.createElement(k.Fragment,null,t(r)):null},rv=(e,t)=>{t=t||e.displayName||e.name||"Component",e.displayName=t;let r=t=>{let r=tf();return r?k.createElement(e,{...t,session:r}):null};return r.displayName="withSession(".concat(t,")"),r},ry=e=>{let{children:t}=e,r=tf();if("function"!=typeof t)throw Error(z);return r?k.createElement(k.Fragment,null,t(r)):null},rb=e=>t=>{try{return k.Children.only(e)}catch(e){throw Error(D(t))}},rw=(e,t)=>(e||(e=t),"string"==typeof e&&(e=k.createElement("button",null,e)),e),rS=e=>function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(e&&"function"==typeof e)return e(...r)},rk=tJ(e=>{let{clerk:t,children:r,...n}=e,{afterSignInUrl:i,afterSignUpUrl:o,redirectUrl:s,mode:a,...l}=n,u=rb(r=rw(r,"Sign in"))("SignInButton"),c=()=>{let e={afterSignInUrl:i,afterSignUpUrl:o,redirectUrl:s};return"modal"===a?t.openSignIn(e):t.redirectToSignIn(e)},d=async e=>(await rS(u.props.onClick)(e),c()),h={...l,onClick:d};return k.cloneElement(u,h)},"SignInButton"),rP=tJ(e=>{let{clerk:t,children:r,...n}=e,{afterSignInUrl:i,afterSignUpUrl:o,redirectUrl:s,mode:a,unsafeMetadata:l,...u}=n,c=rb(r=rw(r,"Sign up"))("SignUpButton"),d=()=>{let e={afterSignInUrl:i,afterSignUpUrl:o,redirectUrl:s,unsafeMetadata:l};return"modal"===a?t.openSignUp(e):t.redirectToSignUp(e)},h=async e=>(await rS(c.props.onClick)(e),d()),f={...u,onClick:h};return k.cloneElement(c,f)},"SignUpButton"),r_=tJ(e=>{let{clerk:t,children:r,...n}=e,{signOutCallback:i,signOutOptions:o,...s}=n,a=rb(r=rw(r,"Sign out"))("SignOutButton"),l=()=>t.signOut(i,o),u=async e=>(await rS(a.props.onClick)(e),l()),c={...s,onClick:u};return k.cloneElement(a,c)},"SignOutButton"),rE=tJ(e=>{let{clerk:t,children:r,...n}=e,{redirectUrl:i,...o}=n,s=rb(r=rw(r,"Sign in with Metamask"))("SignInWithMetamaskButton"),a=async()=>{!async function(){await t.authenticateWithMetamask({redirectUrl:i})}()},l=async e=>(await rS(s.props.onClick)(e),a()),u={...o,onClick:l};return k.cloneElement(s,u)},"SignInWithMetamask");function rC(){let e=tu();return void 0===e?{isLoaded:!1,isSignedIn:void 0,user:void 0}:null===e?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:e}}let rO=()=>{let e=tf();return void 0===e?{isLoaded:!1,isSignedIn:void 0,session:void 0}:null===e?{isLoaded:!0,isSignedIn:!1,session:null}:{isLoaded:!0,isSignedIn:!0,session:e}},rR=()=>tA(),rA=()=>{let e=tA(),t=td();return t?{isLoaded:!0,signIn:t.signIn,setSession:e.setSession,setActive:e.setActive}:{isLoaded:!1,signIn:void 0,setSession:void 0,setActive:void 0}},rL=()=>{let e=tA(),t=td();return t?{isLoaded:!0,signUp:t.signUp,setSession:e.setSession,setActive:e.setActive}:{isLoaded:!1,signUp:void 0,setSession:void 0,setActive:void 0}},rj=()=>{let e=tA(),t=td();return t?{isLoaded:!0,sessions:t.sessions,setSession:e.setSession,setActive:e.setActive}:{isLoaded:!1,sessions:void 0,setSession:void 0,setActive:void 0}};function rM(e){O("useMagicLink","Use `useEmailLink` instead.");let{startMagicLinkFlow:t,cancelMagicLinkFlow:r}=k.useMemo(()=>e.createMagicLinkFlow(),[e]);return k.useEffect(()=>r,[]),{startMagicLinkFlow:t,cancelMagicLinkFlow:r}}function rT(e){let{startEmailLinkFlow:t,cancelEmailLinkFlow:r}=k.useMemo(()=>e.createEmailLinkFlow(),[e]);return k.useEffect(()=>r,[]),{startEmailLinkFlow:t,cancelEmailLinkFlow:r}}},218:function(e,t,r){window.global||(window.global=void 0===r.g?window:r.g)},8317:function(e,t,r){"use strict";r.r(t),r.d(t,{ClientClerkProvider:function(){return c}});var n=r(5782),i=r(7907),o=r(4090),s=r(9854),a=r(4015),l=r(1797);let u=()=>{let{push:e}=(0,i.useRouter)(),[t,r]=(0,o.useTransition)(),n=(0,o.useRef)(),s=(0,o.useRef)([]);return n.current||(n.current=(t,n)=>new Promise(i=>{s.current.push(i),r(()=>{e(t,n)})})),(0,o.useEffect)(()=>{var e;t||((null==s?void 0:null===(e=s.current)||void 0===e?void 0:e.length)&&s.current.forEach(e=>e()),s.current=[])},[t]),n.current},c=e=>{let{__unstable_invokeMiddlewareOnAuthStateChange:t=!0}=e,r=(0,i.useRouter)(),c=u();(0,a.G)(()=>{window.__unstable__onBeforeSetActive=()=>{t&&(r.refresh(),r.push(window.location.href))},window.__unstable__onAfterSetActive=()=>{r.refresh()}},[]);let d=(0,l.V)({...e,navigate:c});return o.createElement(s.f,{options:d},o.createElement(n.El,{...d}))}},9854:function(e,t,r){"use strict";r.d(t,{f:function(){return s},k:function(){return o}});var n=r(4090);let i=n.createContext(void 0);i.displayName="ClerkNextOptionsCtx";let o=()=>n.useContext(i).value,s=e=>{let{children:t,options:r}=e;return n.createElement(i.Provider,{value:{value:r}},t)}},4015:function(e,t,r){"use strict";r.d(t,{G:function(){return n}});let n=r(4090).useLayoutEffect},3310:function(e,t,r){"use strict";r.d(t,{El:function(){return h},Cv:function(){return f}});var n=r(4090),i=r(5782),o=r(2277),s=r(9854),a=r(4015);let l=()=>{let e=e=>{Object.keys(e).forEach(t=>{delete e[t]})};try{e(window.next.router.sdc),e(window.next.router.sbc)}catch(e){return}};var u=r(1797);function c(e){var t;let{children:r,...c}=e,{__unstable_invokeMiddlewareOnAuthStateChange:d=!0}=c,{push:h}=(0,o.useRouter)();i.El.displayName="ReactClerkProvider",(0,a.G)(()=>{window.__unstable__onBeforeSetActive=l},[]),(0,a.G)(()=>{window.__unstable__onAfterSetActive=()=>{d&&h(window.location.href)}},[]);let f=(0,u.V)({...c,navigate:e=>h(e)}),p=(null===(t=c.authServerSideProps)||void 0===t?void 0:t.__clerk_ssr_state)||c.__clerk_ssr_state;return n.createElement(s.f,{options:f},n.createElement(i.El,{...f,initialState:p},r))}function d(e){let{ClientClerkProvider:t}=r(8317);return n.createElement(t,{...e})}(0,i.kO)({packageName:"@clerk/nextjs"});let h=function(e){try{let{useRouter:t}=r(4208);return t()?n.createElement(c,{...e}):n.createElement(d,{...e})}catch(t){return n.createElement(c,{...e})}};i.CH,i.tj;let f=i.Cv},1797:function(e,t,r){"use strict";r.d(t,{V:function(){return i}});var n=r(9079);let i=e=>({...e,frontendApi:e.frontendApi||n.env.NEXT_PUBLIC_CLERK_FRONTEND_API||"",publishableKey:e.publishableKey||"pk_test_YXJyaXZpbmctaW1wLTQ0LmNsZXJrLmFjY291bnRzLmRldiQ",clerkJSUrl:e.clerkJSUrl||n.env.NEXT_PUBLIC_CLERK_JS,clerkJSVersion:e.clerkJSVersion||n.env.NEXT_PUBLIC_CLERK_JS_VERSION,proxyUrl:e.proxyUrl||n.env.NEXT_PUBLIC_CLERK_PROXY_URL||"",domain:e.domain||n.env.NEXT_PUBLIC_CLERK_DOMAIN||"",isSatellite:e.isSatellite||"true"===n.env.NEXT_PUBLIC_CLERK_IS_SATELLITE,signInUrl:e.signInUrl||n.env.NEXT_PUBLIC_CLERK_SIGN_IN_URL||"",signUpUrl:e.signUpUrl||n.env.NEXT_PUBLIC_CLERK_SIGN_UP_URL||"",afterSignInUrl:e.afterSignInUrl||n.env.NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL||"",afterSignUpUrl:e.afterSignUpUrl||n.env.NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL||"",sdkMetadata:{name:"@clerk/nextjs",version:"4.29.9"}})},2235:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.336.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(7461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4208:function(e,t,r){"use strict";e.exports=r(9008)},9079:function(e,t,r){"use strict";var n,i;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(i=r.g.process)?void 0:i.env)?r.g.process:r(3127)},9008:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useRouter",{enumerable:!0,get:function(){return o}});let n=r(4090),i=r(6993);function o(){return(0,n.useContext)(i.RouterContext)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1246:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return r}});let r=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3313:function(e,t){"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DOMAttributeNames:function(){return n},isEqualNode:function(){return o},default:function(){return s}});let n={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",noModule:"noModule"};function i(e){let{type:t,props:r}=e,i=document.createElement(t);for(let e in r){if(!r.hasOwnProperty(e)||"children"===e||"dangerouslySetInnerHTML"===e||void 0===r[e])continue;let o=n[e]||e.toLowerCase();"script"===t&&("async"===o||"defer"===o||"noModule"===o)?i[o]=!!r[e]:i.setAttribute(o,r[e])}let{children:o,dangerouslySetInnerHTML:s}=r;return s?i.innerHTML=s.__html||"":o&&(i.textContent="string"==typeof o?o:Array.isArray(o)?o.join(""):""),i}function o(e,t){if(e instanceof HTMLElement&&t instanceof HTMLElement){let r=t.getAttribute("nonce");if(r&&!e.getAttribute("nonce")){let n=t.cloneNode(!0);return n.setAttribute("nonce",""),n.nonce=r,r===e.nonce&&e.isEqualNode(n)}}return e.isEqualNode(t)}function s(){return{mountedInstances:new Set,updateHead:e=>{let t={};e.forEach(e=>{if("link"===e.type&&e.props["data-optimized-fonts"]){if(document.querySelector('style[data-href="'+e.props["data-href"]+'"]'))return;e.props.href=e.props["data-href"],e.props["data-href"]=void 0}let r=t[e.type]||[];r.push(e),t[e.type]=r});let n=t.title?t.title[0]:null,i="";if(n){let{children:e}=n.props;i="string"==typeof e?e:Array.isArray(e)?e.join(""):""}i!==document.title&&(document.title=i),["meta","base","link","style","script"].forEach(e=>{r(e,t[e]||[])})}}}r=(e,t)=>{let r=document.getElementsByTagName("head")[0],n=r.querySelector("meta[name=next-head-count]"),s=Number(n.content),a=[];for(let t=0,r=n.previousElementSibling;t<s;t++,r=(null==r?void 0:r.previousElementSibling)||null){var l;(null==r?void 0:null==(l=r.tagName)?void 0:l.toLowerCase())===e&&a.push(r)}let u=t.map(i).filter(e=>{for(let t=0,r=a.length;t<r;t++)if(o(a[t],e))return a.splice(t,1),!1;return!0});a.forEach(e=>{var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),u.forEach(e=>r.insertBefore(e,n)),n.content=(s-a.length+u.length).toString()},("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8269:function(e,t,r){"use strict";function n(e,t){return e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeLocale",{enumerable:!0,get:function(){return n}}),r(6506),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8567:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{markAssetError:function(){return l},isAssetError:function(){return u},getClientBuildManifest:function(){return f},createRouteLoader:function(){return g}}),r(6921),r(6840);let n=r(749),i=r(2185),o=r(269);function s(e,t,r){let n,i=t.get(e);if(i)return"future"in i?i.future:Promise.resolve(i);let o=new Promise(e=>{n=e});return t.set(e,i={resolve:n,future:o}),r?r().then(e=>(n(e),e)).catch(r=>{throw t.delete(e),r}):o}let a=Symbol("ASSET_LOAD_ERROR");function l(e){return Object.defineProperty(e,a,{})}function u(e){return e&&a in e}let c=function(e){try{return e=document.createElement("link"),!!window.MSInputMethodContext&&!!document.documentMode||e.relList.supports("prefetch")}catch(e){return!1}}(),d=()=>(0,o.getDeploymentIdQueryOrEmptyString)();function h(e,t,r){return new Promise((n,o)=>{let s=!1;e.then(e=>{s=!0,n(e)}).catch(o),(0,i.requestIdleCallback)(()=>setTimeout(()=>{s||o(r)},t))})}function f(){return self.__BUILD_MANIFEST?Promise.resolve(self.__BUILD_MANIFEST):h(new Promise(e=>{let t=self.__BUILD_MANIFEST_CB;self.__BUILD_MANIFEST_CB=()=>{e(self.__BUILD_MANIFEST),t&&t()}}),3800,l(Error("Failed to load client build manifest")))}function p(e,t){return f().then(r=>{if(!(t in r))throw l(Error("Failed to lookup route: "+t));let i=r[t].map(t=>e+"/_next/"+encodeURI(t));return{scripts:i.filter(e=>e.endsWith(".js")).map(e=>(0,n.__unsafeCreateTrustedScriptURL)(e)+d()),css:i.filter(e=>e.endsWith(".css")).map(e=>e+d())}})}function g(e){let t=new Map,r=new Map,n=new Map,o=new Map;function a(e){{var t;let n=r.get(e.toString());return n||(document.querySelector('script[src^="'+e+'"]')?Promise.resolve():(r.set(e.toString(),n=new Promise((r,n)=>{(t=document.createElement("script")).onload=r,t.onerror=()=>n(l(Error("Failed to load script: "+e))),t.crossOrigin=void 0,t.src=e,document.body.appendChild(t)})),n))}}function u(e){let t=n.get(e);return t||n.set(e,t=fetch(e).then(t=>{if(!t.ok)throw Error("Failed to load stylesheet: "+e);return t.text().then(t=>({href:e,content:t}))}).catch(e=>{throw l(e)})),t}return{whenEntrypoint:e=>s(e,t),onEntrypoint(e,r){(r?Promise.resolve().then(()=>r()).then(e=>({component:e&&e.default||e,exports:e}),e=>({error:e})):Promise.resolve(void 0)).then(r=>{let n=t.get(e);n&&"resolve"in n?r&&(t.set(e,r),n.resolve(r)):(r?t.set(e,r):t.delete(e),o.delete(e))})},loadRoute(r,n){return s(r,o,()=>{let i;return h(p(e,r).then(e=>{let{scripts:n,css:i}=e;return Promise.all([t.has(r)?[]:Promise.all(n.map(a)),Promise.all(i.map(u))])}).then(e=>this.whenEntrypoint(r).then(t=>({entrypoint:t,styles:e[1]}))),3800,l(Error("Route did not complete loading: "+r))).then(e=>{let{entrypoint:t,styles:r}=e,n=Object.assign({styles:r},t);return"error"in t?t:n}).catch(e=>{if(n)throw e;return{error:e}}).finally(()=>null==i?void 0:i())})},prefetch(t){let r;return(r=navigator.connection)&&(r.saveData||/2g/.test(r.effectiveType))?Promise.resolve():p(e,t).then(e=>Promise.all(c?e.scripts.map(e=>{var t,r,n;return t=e.toString(),r="script",new Promise((e,i)=>{if(document.querySelector('\n      link[rel="prefetch"][href^="'+t+'"],\n      link[rel="preload"][href^="'+t+'"],\n      script[src^="'+t+'"]'))return e();n=document.createElement("link"),r&&(n.as=r),n.rel="prefetch",n.crossOrigin=void 0,n.onload=e,n.onerror=()=>i(l(Error("Failed to prefetch: "+t))),n.href=t,document.head.appendChild(n)})}):[])).then(()=>{(0,i.requestIdleCallback)(()=>this.loadRoute(t,!0).catch(()=>{}))}).catch(()=>{})}}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2277:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{Router:function(){return o.default},default:function(){return f},withRouter:function(){return l.default},useRouter:function(){return p},createRouter:function(){return g},makePublicRouterInstance:function(){return m}});let n=r(6921),i=n._(r(4090)),o=n._(r(4118)),s=r(6993),a=n._(r(897)),l=n._(r(2585)),u={router:null,readyCallbacks:[],ready(e){if(this.router)return e();this.readyCallbacks.push(e)}},c=["pathname","route","query","asPath","components","isFallback","basePath","locale","locales","defaultLocale","isReady","isPreview","isLocaleDomain","domainLocales"],d=["push","replace","reload","back","prefetch","beforePopState"];function h(){if(!u.router)throw Error('No router instance found.\nYou should only use "next/router" on the client side of your app.\n');return u.router}Object.defineProperty(u,"events",{get:()=>o.default.events}),c.forEach(e=>{Object.defineProperty(u,e,{get:()=>h()[e]})}),d.forEach(e=>{u[e]=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return h()[e](...r)}}),["routeChangeStart","beforeHistoryChange","routeChangeComplete","routeChangeError","hashChangeStart","hashChangeComplete"].forEach(e=>{u.ready(()=>{o.default.events.on(e,function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];let i="on"+e.charAt(0).toUpperCase()+e.substring(1);if(u[i])try{u[i](...r)}catch(e){console.error("Error when running the Router event: "+i),console.error((0,a.default)(e)?e.message+"\n"+e.stack:e+"")}})})});let f=u;function p(){let e=i.default.useContext(s.RouterContext);if(!e)throw Error("NextRouter was not mounted. https://nextjs.org/docs/messages/next-router-not-mounted");return e}function g(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.router=new o.default(...t),u.readyCallbacks.forEach(e=>e()),u.readyCallbacks=[],u.router}function m(e){let t={};for(let r of c){if("object"==typeof e[r]){t[r]=Object.assign(Array.isArray(e[r])?[]:{},e[r]);continue}t[r]=e[r]}return t.events=o.default.events,d.forEach(r=>{t[r]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e[r](...n)}}),t}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5935:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{handleClientScriptLoad:function(){return m},initScriptLoader:function(){return v},default:function(){return b}});let n=r(6921),i=r(1884),o=r(3827),s=n._(r(9542)),a=i._(r(4090)),l=r(7484),u=r(3313),c=r(2185),d=new Map,h=new Set,f=["onLoad","onReady","dangerouslySetInnerHTML","children","onError","strategy","stylesheets"],p=e=>{if(s.default.preinit){e.forEach(e=>{s.default.preinit(e,{as:"style"})});return}{let t=document.head;e.forEach(e=>{let r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=e,t.appendChild(r)})}},g=e=>{let{src:t,id:r,onLoad:n=()=>{},onReady:i=null,dangerouslySetInnerHTML:o,children:s="",strategy:a="afterInteractive",onError:l,stylesheets:c}=e,g=r||t;if(g&&h.has(g))return;if(d.has(t)){h.add(g),d.get(t).then(n,l);return}let m=()=>{i&&i(),h.add(g)},v=document.createElement("script"),y=new Promise((e,t)=>{v.addEventListener("load",function(t){e(),n&&n.call(this,t),m()}),v.addEventListener("error",function(e){t(e)})}).catch(function(e){l&&l(e)});for(let[r,n]of(o?(v.innerHTML=o.__html||"",m()):s?(v.textContent="string"==typeof s?s:Array.isArray(s)?s.join(""):"",m()):t&&(v.src=t,d.set(t,y)),Object.entries(e))){if(void 0===n||f.includes(r))continue;let e=u.DOMAttributeNames[r]||r.toLowerCase();v.setAttribute(e,n)}"worker"===a&&v.setAttribute("type","text/partytown"),v.setAttribute("data-nscript",a),c&&p(c),document.body.appendChild(v)};function m(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,c.requestIdleCallback)(()=>g(e))}):g(e)}function v(e){e.forEach(m),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");h.add(t)})}function y(e){let{id:t,src:r="",onLoad:n=()=>{},onReady:i=null,strategy:u="afterInteractive",onError:d,stylesheets:f,...p}=e,{updateScripts:m,scripts:v,getIsSsr:y,appDir:b,nonce:w}=(0,a.useContext)(l.HeadManagerContext),S=(0,a.useRef)(!1);(0,a.useEffect)(()=>{let e=t||r;S.current||(i&&e&&h.has(e)&&i(),S.current=!0)},[i,t,r]);let k=(0,a.useRef)(!1);if((0,a.useEffect)(()=>{!k.current&&("afterInteractive"===u?g(e):"lazyOnload"===u&&("complete"===document.readyState?(0,c.requestIdleCallback)(()=>g(e)):window.addEventListener("load",()=>{(0,c.requestIdleCallback)(()=>g(e))})),k.current=!0)},[e,u]),("beforeInteractive"===u||"worker"===u)&&(m?(v[u]=(v[u]||[]).concat([{id:t,src:r,onLoad:n,onReady:i,onError:d,...p}]),m(v)):y&&y()?h.add(t||r):y&&!y()&&g(e)),b){if(f&&f.forEach(e=>{s.default.preinit(e,{as:"style"})}),"beforeInteractive"===u)return r?(s.default.preload(r,p.integrity?{as:"script",integrity:p.integrity}:{as:"script"}),(0,o.jsx)("script",{nonce:w,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([r,{...p,id:t}])+")"}})):(p.dangerouslySetInnerHTML&&(p.children=p.dangerouslySetInnerHTML.__html,delete p.dangerouslySetInnerHTML),(0,o.jsx)("script",{nonce:w,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([0,{...p,id:t}])+")"}}));"afterInteractive"===u&&r&&s.default.preload(r,p.integrity?{as:"script",integrity:p.integrity}:{as:"script"})}return null}Object.defineProperty(y,"__nextScript",{value:!0});let b=y;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},749:function(e,t){"use strict";let r;function n(e){var t;return(null==(t=function(){if(void 0===r){var e;r=(null==(e=window.trustedTypes)?void 0:e.createPolicy("nextjs",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e}))||null}return r}())?void 0:t.createScriptURL(e))||e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"__unsafeCreateTrustedScriptURL",{enumerable:!0,get:function(){return n}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2585:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}}),r(6921);let n=r(3827);r(4090);let i=r(2277);function o(e){function t(t){return(0,n.jsx)(e,{router:(0,i.useRouter)(),...t})}return t.getInitialProps=e.getInitialProps,t.origGetInitialProps=e.origGetInitialProps,t}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3127:function(e){"use strict";!function(){var t={229:function(e){var t,r,n,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l=[],u=!1,c=-1;function d(){u&&n&&(u=!1,n.length?l=n.concat(l):c=-1,l.length&&h())}function h(){if(!u){var e=a(d);u=!0;for(var t=l.length;t;){for(n=l,l=[];++c<t;)n&&n[c].run();c=-1,t=l.length}n=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new f(e,t)),1!==l.length||u||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}},s=!0;try{t[e](o,o.exports,n),s=!1}finally{s&&delete r[e]}return o.exports}n.ab="//";var i=n(229);e.exports=i}()},9725:function(e,t){"use strict";function r(e){return"/api"===e||!!(null==e?void 0:e.startsWith("/api/"))}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isAPIRoute",{enumerable:!0,get:function(){return r}})},897:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return i},getProperError:function(){return o}});let n=r(2014);function i(e){return"object"==typeof e&&null!==e&&"name"in e&&"message"in e}function o(e){return i(e)?e:Error((0,n.isPlainObject)(e)?JSON.stringify(e):e+"")}},313:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BloomFilter",{enumerable:!0,get:function(){return r}});class r{static from(e,t){void 0===t&&(t=1e-4);let n=new r(e.length,t);for(let t of e)n.add(t);return n}export(){return{numItems:this.numItems,errorRate:this.errorRate,numBits:this.numBits,numHashes:this.numHashes,bitArray:this.bitArray}}import(e){this.numItems=e.numItems,this.errorRate=e.errorRate,this.numBits=e.numBits,this.numHashes=e.numHashes,this.bitArray=e.bitArray}add(e){this.getHashValues(e).forEach(e=>{this.bitArray[e]=1})}contains(e){return this.getHashValues(e).every(e=>this.bitArray[e])}getHashValues(e){let t=[];for(let r=1;r<=this.numHashes;r++){let n=function(e){let t=0;for(let r=0;r<e.length;r++)t=Math.imul(t^e.charCodeAt(r),1540483477),t^=t>>>13,t=Math.imul(t,1540483477);return t>>>0}(""+e+r)%this.numBits;t.push(n)}return t}constructor(e,t=1e-4){this.numItems=e,this.errorRate=t,this.numBits=Math.ceil(-(e*Math.log(t))/(Math.log(2)*Math.log(2))),this.numHashes=Math.ceil(this.numBits/e*Math.log(2)),this.bitArray=Array(this.numBits).fill(0)}}},1123:function(e,t){"use strict";function r(e,t){let r;let n=e.split("/");return(t||[]).some(t=>!!n[1]&&n[1].toLowerCase()===t.toLowerCase()&&(r=t,n.splice(1,1),e=n.join("/")||"/",!0)),{pathname:e,detectedLocale:r}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return r}})},2014:function(e,t){"use strict";function r(e){return Object.prototype.toString.call(e)}function n(e){if("[object Object]"!==r(e))return!1;let t=Object.getPrototypeOf(e);return null===t||t.hasOwnProperty("isPrototypeOf")}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getObjectClassLabel:function(){return r},isPlainObject:function(){return n}})},2471:function(e,t){"use strict";function r(){let e=Object.create(null);return{on(t,r){(e[t]||(e[t]=[])).push(r)},off(t,r){e[t]&&e[t].splice(e[t].indexOf(r)>>>0,1)},emit(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];(e[t]||[]).slice().map(e=>{e(...n)})}}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}})},5422:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"denormalizePagePath",{enumerable:!0,get:function(){return o}});let n=r(2360),i=r(8482);function o(e){let t=(0,i.normalizePathSep)(e);return t.startsWith("/index/")&&!(0,n.isDynamicRoute)(t)?t.slice(6):"/index"!==t?t:"/"}},8482:function(e,t){"use strict";function r(e){return e.replace(/\\/g,"/")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizePathSep",{enumerable:!0,get:function(){return r}})},4118:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return H},matchesMiddleware:function(){return x},createKey:function(){return F}});let n=r(6921),i=r(1884),o=r(5868),s=r(8567),a=r(5935),l=i._(r(897)),u=r(5422),c=r(1123),d=n._(r(2471)),h=r(6874),f=r(1305),p=r(9753);r(2431);let g=r(2395),m=r(9935),v=r(1030);r(1246);let y=r(6506),b=r(2956),w=r(8269),S=r(8895),k=r(5786),P=r(7379),_=r(4542),E=r(9725),C=r(2339),O=r(3531),R=r(8558),A=r(7434),L=r(6407),j=r(4544),M=r(6735),T=r(3011);function I(){return Object.assign(Error("Route Cancelled"),{cancelled:!0})}async function x(e){let t=await Promise.resolve(e.router.pageLoader.getMiddleware());if(!t)return!1;let{pathname:r}=(0,y.parsePath)(e.asPath),n=(0,P.hasBasePath)(r)?(0,S.removeBasePath)(r):r,i=(0,k.addBasePath)((0,b.addLocale)(n,e.locale));return t.some(e=>new RegExp(e.regexp).test(i))}function U(e){let t=(0,h.getLocationOrigin)();return e.startsWith(t)?e.substring(t.length):e}function N(e,t,r){let[n,i]=(0,_.resolveHref)(e,t,!0),o=(0,h.getLocationOrigin)(),s=n.startsWith(o),a=i&&i.startsWith(o);n=U(n),i=i?U(i):i;let l=s?n:(0,k.addBasePath)(n),u=r?U((0,_.resolveHref)(e,r)):i||n;return{url:l,as:a?u:(0,k.addBasePath)(u)}}function q(e,t){let r=(0,o.removeTrailingSlash)((0,u.denormalizePagePath)(e));return"/404"===r||"/_error"===r?e:(t.includes(r)||t.some(t=>{if((0,f.isDynamicRoute)(t)&&(0,m.getRouteRegex)(t).re.test(r))return e=t,!0}),(0,o.removeTrailingSlash)(e))}async function z(e){if(!await x(e)||!e.fetchData)return null;try{let t=await e.fetchData(),r=await function(e,t,r){let n={basePath:r.router.basePath,i18n:{locales:r.router.locales},trailingSlash:!1},i=t.headers.get("x-nextjs-rewrite"),a=i||t.headers.get("x-nextjs-matched-path"),l=t.headers.get("x-matched-path");if(!l||a||l.includes("__next_data_catchall")||l.includes("/_error")||l.includes("/404")||(a=l),a){if(a.startsWith("/")){let t=(0,p.parseRelativeUrl)(a),l=(0,C.getNextPathnameInfo)(t.pathname,{nextConfig:n,parseData:!0}),u=(0,o.removeTrailingSlash)(l.pathname);return Promise.all([r.router.pageLoader.getPageList(),(0,s.getClientBuildManifest)()]).then(o=>{let[s,{__rewrites:a}]=o,d=(0,b.addLocale)(l.pathname,l.locale);if((0,f.isDynamicRoute)(d)||!i&&s.includes((0,c.normalizeLocalePath)((0,S.removeBasePath)(d),r.router.locales).pathname)){let r=(0,C.getNextPathnameInfo)((0,p.parseRelativeUrl)(e).pathname,{nextConfig:n,parseData:!0});d=(0,k.addBasePath)(r.pathname),t.pathname=d}if(!s.includes(u)){let e=q(u,s);e!==u&&(u=e)}let h=s.includes(u)?u:q((0,c.normalizeLocalePath)((0,S.removeBasePath)(t.pathname),r.router.locales).pathname,s);if((0,f.isDynamicRoute)(h)){let e=(0,g.getRouteMatcher)((0,m.getRouteRegex)(h))(d);Object.assign(t.query,e||{})}return{type:"rewrite",parsedAs:t,resolvedHref:h}})}let t=(0,y.parsePath)(e);return Promise.resolve({type:"redirect-external",destination:""+(0,O.formatNextPathnameInfo)({...(0,C.getNextPathnameInfo)(t.pathname,{nextConfig:n,parseData:!0}),defaultLocale:r.router.defaultLocale,buildId:""})+t.query+t.hash})}let u=t.headers.get("x-nextjs-redirect");if(u){if(u.startsWith("/")){let e=(0,y.parsePath)(u),t=(0,O.formatNextPathnameInfo)({...(0,C.getNextPathnameInfo)(e.pathname,{nextConfig:n,parseData:!0}),defaultLocale:r.router.defaultLocale,buildId:""});return Promise.resolve({type:"redirect-internal",newAs:""+t+e.query+e.hash,newUrl:""+t+e.query+e.hash})}return Promise.resolve({type:"redirect-external",destination:u})}return Promise.resolve({type:"next"})}(t.dataHref,t.response,e);return{dataHref:t.dataHref,json:t.json,response:t.response,text:t.text,cacheKey:t.cacheKey,effect:r}}catch(e){return null}}let D=Symbol("SSG_DATA_NOT_FOUND");function V(e){try{return JSON.parse(e)}catch(e){return null}}function B(e){var t;let{dataHref:r,inflightCache:n,isPrefetch:i,hasMiddleware:o,isServerRender:a,parseJSON:l,persistCache:u,isBackground:c,unstable_skipClientCache:d}=e,{href:h}=new URL(r,window.location.href),f=e=>(function e(t,r,n){return fetch(t,{credentials:"same-origin",method:n.method||"GET",headers:Object.assign({},n.headers,{"x-nextjs-data":"1"})}).then(i=>!i.ok&&r>1&&i.status>=500?e(t,r-1,n):i)})(r,a?3:1,{headers:Object.assign({},i?{purpose:"prefetch"}:{},i&&o?{"x-middleware-prefetch":"1"}:{}),method:null!=(t=null==e?void 0:e.method)?t:"GET"}).then(t=>t.ok&&(null==e?void 0:e.method)==="HEAD"?{dataHref:r,response:t,text:"",json:{},cacheKey:h}:t.text().then(e=>{if(!t.ok){if(o&&[301,302,307,308].includes(t.status))return{dataHref:r,response:t,text:e,json:{},cacheKey:h};if(404===t.status){var n;if(null==(n=V(e))?void 0:n.notFound)return{dataHref:r,json:{notFound:D},response:t,text:e,cacheKey:h}}let i=Error("Failed to load static props");throw a||(0,s.markAssetError)(i),i}return{dataHref:r,json:l?V(e):null,response:t,text:e,cacheKey:h}})).then(e=>(u&&"no-cache"!==e.response.headers.get("x-middleware-cache")||delete n[h],e)).catch(e=>{throw d||delete n[h],("Failed to fetch"===e.message||"NetworkError when attempting to fetch resource."===e.message||"Load failed"===e.message)&&(0,s.markAssetError)(e),e});return d&&u?f({}).then(e=>(n[h]=Promise.resolve(e),e)):void 0!==n[h]?n[h]:n[h]=f(c?{method:"HEAD"}:{})}function F(){return Math.random().toString(36).slice(2,10)}function W(e){let{url:t,router:r}=e;if(t===(0,k.addBasePath)((0,b.addLocale)(r.asPath,r.locale)))throw Error("Invariant: attempted to hard navigate to the same URL "+t+" "+location.href);window.location.href=t}let Q=e=>{let{route:t,router:r}=e,n=!1,i=r.clc=()=>{n=!0};return()=>{if(n){let e=Error('Abort fetching component for route: "'+t+'"');throw e.cancelled=!0,e}i===r.clc&&(r.clc=null)}};class H{reload(){window.location.reload()}back(){window.history.back()}forward(){window.history.forward()}push(e,t,r){return void 0===r&&(r={}),{url:e,as:t}=N(this,e,t),this.change("pushState",e,t,r)}replace(e,t,r){return void 0===r&&(r={}),{url:e,as:t}=N(this,e,t),this.change("replaceState",e,t,r)}async _bfl(e,t,r,n){{let l=!1,u=!1;for(let c of[e,t])if(c){let t=(0,o.removeTrailingSlash)(new URL(c,"http://n").pathname),d=(0,k.addBasePath)((0,b.addLocale)(t,r||this.locale));if(t!==(0,o.removeTrailingSlash)(new URL(this.asPath,"http://n").pathname)){var i,s,a;for(let e of(l=l||!!(null==(i=this._bfl_s)?void 0:i.contains(t))||!!(null==(s=this._bfl_s)?void 0:s.contains(d)),[t,d])){let t=e.split("/");for(let e=0;!u&&e<t.length+1;e++){let r=t.slice(0,e).join("/");if(r&&(null==(a=this._bfl_d)?void 0:a.contains(r))){u=!0;break}}}if(l||u){if(n)return!0;return W({url:(0,k.addBasePath)((0,b.addLocale)(e,r||this.locale,this.defaultLocale)),router:this}),new Promise(()=>{})}}}}return!1}async change(e,t,r,n,i){var u,c,d,_,E,C,O,L,T;let U,z;if(!(0,A.isLocalURL)(t))return W({url:t,router:this}),!1;let V=1===n._h;V||n.shallow||await this._bfl(r,void 0,n.locale);let B=V||n._shouldResolveHref||(0,y.parsePath)(t).pathname===(0,y.parsePath)(r).pathname,F={...this.state},Q=!0!==this.isReady;this.isReady=!0;let $=this.isSsr;if(V||(this.isSsr=!1),V&&this.clc)return!1;let J=F.locale;h.ST&&performance.mark("routeChange");let{shallow:G=!1,scroll:K=!0}=n,X={shallow:G};this._inFlightRoute&&this.clc&&($||H.events.emit("routeChangeError",I(),this._inFlightRoute,X),this.clc(),this.clc=null),r=(0,k.addBasePath)((0,b.addLocale)((0,P.hasBasePath)(r)?(0,S.removeBasePath)(r):r,n.locale,this.defaultLocale));let Z=(0,w.removeLocale)((0,P.hasBasePath)(r)?(0,S.removeBasePath)(r):r,F.locale);this._inFlightRoute=r;let Y=J!==F.locale;if(!V&&this.onlyAHashChange(Z)&&!Y){F.asPath=Z,H.events.emit("hashChangeStart",r,X),this.changeState(e,t,r,{...n,scroll:!1}),K&&this.scrollToHash(Z);try{await this.set(F,this.components[F.route],null)}catch(e){throw(0,l.default)(e)&&e.cancelled&&H.events.emit("routeChangeError",e,Z,X),e}return H.events.emit("hashChangeComplete",r,X),!0}let ee=(0,p.parseRelativeUrl)(t),{pathname:et,query:er}=ee;try{[U,{__rewrites:z}]=await Promise.all([this.pageLoader.getPageList(),(0,s.getClientBuildManifest)(),this.pageLoader.getMiddleware()])}catch(e){return W({url:r,router:this}),!1}this.urlIsNew(Z)||Y||(e="replaceState");let en=r;et=et?(0,o.removeTrailingSlash)((0,S.removeBasePath)(et)):et;let ei=(0,o.removeTrailingSlash)(et),eo=r.startsWith("/")&&(0,p.parseRelativeUrl)(r).pathname;if(null==(u=this.components[et])?void 0:u.__appRouter)return W({url:r,router:this}),new Promise(()=>{});let es=!!(eo&&ei!==eo&&(!(0,f.isDynamicRoute)(ei)||!(0,g.getRouteMatcher)((0,m.getRouteRegex)(ei))(eo))),ea=!n.shallow&&await x({asPath:r,locale:F.locale,router:this});if(V&&ea&&(B=!1),B&&"/_error"!==et&&(n._shouldResolveHref=!0,ee.pathname=q(et,U),ee.pathname===et||(et=ee.pathname,ee.pathname=(0,k.addBasePath)(et),ea||(t=(0,v.formatWithValidation)(ee)))),!(0,A.isLocalURL)(r))return W({url:r,router:this}),!1;en=(0,w.removeLocale)((0,S.removeBasePath)(en),F.locale),ei=(0,o.removeTrailingSlash)(et);let el=!1;if((0,f.isDynamicRoute)(ei)){let e=(0,p.parseRelativeUrl)(en),n=e.pathname,i=(0,m.getRouteRegex)(ei);el=(0,g.getRouteMatcher)(i)(n);let o=ei===n,s=o?(0,M.interpolateAs)(ei,n,er):{};if(el&&(!o||s.result))o?r=(0,v.formatWithValidation)(Object.assign({},e,{pathname:s.result,query:(0,j.omit)(er,s.params)})):Object.assign(er,el);else{let e=Object.keys(i.groups).filter(e=>!er[e]&&!i.groups[e].optional);if(e.length>0&&!ea)throw Error((o?"The provided `href` ("+t+") value is missing query values ("+e.join(", ")+") to be interpolated properly. ":"The provided `as` value ("+n+") is incompatible with the `href` value ("+ei+"). ")+"Read more: https://nextjs.org/docs/messages/"+(o?"href-interpolation-failed":"incompatible-href-as"))}}V||H.events.emit("routeChangeStart",r,X);let eu="/404"===this.pathname||"/_error"===this.pathname;try{let o=await this.getRouteInfo({route:ei,pathname:et,query:er,as:r,resolvedAs:en,routeProps:X,locale:F.locale,isPreview:F.isPreview,hasMiddleware:ea,unstable_skipClientCache:n.unstable_skipClientCache,isQueryUpdating:V&&!this.isFallback,isMiddlewareRewrite:es});if(V||n.shallow||await this._bfl(r,"resolvedAs"in o?o.resolvedAs:void 0,F.locale),"route"in o&&ea){ei=et=o.route||ei,X.shallow||(er=Object.assign({},o.query||{},er));let e=(0,P.hasBasePath)(ee.pathname)?(0,S.removeBasePath)(ee.pathname):ee.pathname;if(el&&et!==e&&Object.keys(el).forEach(e=>{el&&er[e]===el[e]&&delete er[e]}),(0,f.isDynamicRoute)(et)){let e=!X.shallow&&o.resolvedAs?o.resolvedAs:(0,k.addBasePath)((0,b.addLocale)(new URL(r,location.href).pathname,F.locale),!0);(0,P.hasBasePath)(e)&&(e=(0,S.removeBasePath)(e));let t=(0,m.getRouteRegex)(et),n=(0,g.getRouteMatcher)(t)(new URL(e,location.href).pathname);n&&Object.assign(er,n)}}if("type"in o){if("redirect-internal"===o.type)return this.change(e,o.newUrl,o.newAs,n);return W({url:o.destination,router:this}),new Promise(()=>{})}let s=o.Component;if(s&&s.unstable_scriptLoader&&[].concat(s.unstable_scriptLoader()).forEach(e=>{(0,a.handleClientScriptLoad)(e.props)}),(o.__N_SSG||o.__N_SSP)&&o.props){if(o.props.pageProps&&o.props.pageProps.__N_REDIRECT){n.locale=!1;let t=o.props.pageProps.__N_REDIRECT;if(t.startsWith("/")&&!1!==o.props.pageProps.__N_REDIRECT_BASE_PATH){let r=(0,p.parseRelativeUrl)(t);r.pathname=q(r.pathname,U);let{url:i,as:o}=N(this,t,t);return this.change(e,i,o,n)}return W({url:t,router:this}),new Promise(()=>{})}if(F.isPreview=!!o.props.__N_PREVIEW,o.props.notFound===D){let e;try{await this.fetchComponent("/404"),e="/404"}catch(t){e="/_error"}if(o=await this.getRouteInfo({route:e,pathname:e,query:er,as:r,resolvedAs:en,routeProps:{shallow:!1},locale:F.locale,isPreview:F.isPreview,isNotFound:!0}),"type"in o)throw Error("Unexpected middleware effect on /404")}}V&&"/_error"===this.pathname&&(null==(d=self.__NEXT_DATA__.props)?void 0:null==(c=d.pageProps)?void 0:c.statusCode)===500&&(null==(_=o.props)?void 0:_.pageProps)&&(o.props.pageProps.statusCode=500);let u=n.shallow&&F.route===(null!=(E=o.route)?E:ei),h=null!=(C=n.scroll)?C:!V&&!u,v=null!=i?i:h?{x:0,y:0}:null,y={...F,route:ei,pathname:et,query:er,asPath:Z,isFallback:!1};if(V&&eu){if(o=await this.getRouteInfo({route:this.pathname,pathname:this.pathname,query:er,as:r,resolvedAs:en,routeProps:{shallow:!1},locale:F.locale,isPreview:F.isPreview,isQueryUpdating:V&&!this.isFallback}),"type"in o)throw Error("Unexpected middleware effect on "+this.pathname);"/_error"===this.pathname&&(null==(L=self.__NEXT_DATA__.props)?void 0:null==(O=L.pageProps)?void 0:O.statusCode)===500&&(null==(T=o.props)?void 0:T.pageProps)&&(o.props.pageProps.statusCode=500);try{await this.set(y,o,v)}catch(e){throw(0,l.default)(e)&&e.cancelled&&H.events.emit("routeChangeError",e,Z,X),e}return!0}if(H.events.emit("beforeHistoryChange",r,X),this.changeState(e,t,r,n),!(V&&!v&&!Q&&!Y&&(0,R.compareRouterStates)(y,this.state))){try{await this.set(y,o,v)}catch(e){if(e.cancelled)o.error=o.error||e;else throw e}if(o.error)throw V||H.events.emit("routeChangeError",o.error,Z,X),o.error;V||H.events.emit("routeChangeComplete",r,X),h&&/#.+$/.test(r)&&this.scrollToHash(r)}return!0}catch(e){if((0,l.default)(e)&&e.cancelled)return!1;throw e}}changeState(e,t,r,n){void 0===n&&(n={}),("pushState"!==e||(0,h.getURL)()!==r)&&(this._shallow=n.shallow,window.history[e]({url:t,as:r,options:n,__N:!0,key:this._key="pushState"!==e?this._key:F()},"",r))}async handleRouteInfoError(e,t,r,n,i,o){if(console.error(e),e.cancelled)throw e;if((0,s.isAssetError)(e)||o)throw H.events.emit("routeChangeError",e,n,i),W({url:n,router:this}),I();try{let n;let{page:i,styleSheets:o}=await this.fetchComponent("/_error"),s={props:n,Component:i,styleSheets:o,err:e,error:e};if(!s.props)try{s.props=await this.getInitialProps(i,{err:e,pathname:t,query:r})}catch(e){console.error("Error in error page `getInitialProps`: ",e),s.props={}}return s}catch(e){return this.handleRouteInfoError((0,l.default)(e)?e:Error(e+""),t,r,n,i,!0)}}async getRouteInfo(e){let{route:t,pathname:r,query:n,as:i,resolvedAs:s,routeProps:a,locale:u,hasMiddleware:d,isPreview:h,unstable_skipClientCache:f,isQueryUpdating:p,isMiddlewareRewrite:g,isNotFound:m}=e,y=t;try{var b,w,k,P;let e=Q({route:y,router:this}),t=this.components[y];if(a.shallow&&t&&this.route===y)return t;d&&(t=void 0);let l=!t||"initial"in t?void 0:t,_={dataHref:this.pageLoader.getDataHref({href:(0,v.formatWithValidation)({pathname:r,query:n}),skipInterpolation:!0,asPath:m?"/404":s,locale:u}),hasMiddleware:!0,isServerRender:this.isSsr,parseJSON:!0,inflightCache:p?this.sbc:this.sdc,persistCache:!h,isPrefetch:!1,unstable_skipClientCache:f,isBackground:p},C=p&&!g?null:await z({fetchData:()=>B(_),asPath:m?"/404":s,locale:u,router:this}).catch(e=>{if(p)return null;throw e});if(C&&("/_error"===r||"/404"===r)&&(C.effect=void 0),p&&(C?C.json=self.__NEXT_DATA__.props:C={json:self.__NEXT_DATA__.props}),e(),(null==C?void 0:null==(b=C.effect)?void 0:b.type)==="redirect-internal"||(null==C?void 0:null==(w=C.effect)?void 0:w.type)==="redirect-external")return C.effect;if((null==C?void 0:null==(k=C.effect)?void 0:k.type)==="rewrite"){let e=(0,o.removeTrailingSlash)(C.effect.resolvedHref),i=await this.pageLoader.getPageList();if((!p||i.includes(e))&&(y=e,r=C.effect.resolvedHref,n={...n,...C.effect.parsedAs.query},s=(0,S.removeBasePath)((0,c.normalizeLocalePath)(C.effect.parsedAs.pathname,this.locales).pathname),t=this.components[y],a.shallow&&t&&this.route===y&&!d))return{...t,route:y}}if((0,E.isAPIRoute)(y))return W({url:i,router:this}),new Promise(()=>{});let O=l||await this.fetchComponent(y).then(e=>({Component:e.page,styleSheets:e.styleSheets,__N_SSG:e.mod.__N_SSG,__N_SSP:e.mod.__N_SSP})),R=null==C?void 0:null==(P=C.response)?void 0:P.headers.get("x-middleware-skip"),A=O.__N_SSG||O.__N_SSP;R&&(null==C?void 0:C.dataHref)&&delete this.sdc[C.dataHref];let{props:L,cacheKey:j}=await this._getData(async()=>{if(A){if((null==C?void 0:C.json)&&!R)return{cacheKey:C.cacheKey,props:C.json};let e=(null==C?void 0:C.dataHref)?C.dataHref:this.pageLoader.getDataHref({href:(0,v.formatWithValidation)({pathname:r,query:n}),asPath:s,locale:u}),t=await B({dataHref:e,isServerRender:this.isSsr,parseJSON:!0,inflightCache:R?{}:this.sdc,persistCache:!h,isPrefetch:!1,unstable_skipClientCache:f});return{cacheKey:t.cacheKey,props:t.json||{}}}return{headers:{},props:await this.getInitialProps(O.Component,{pathname:r,query:n,asPath:i,locale:u,locales:this.locales,defaultLocale:this.defaultLocale})}});return O.__N_SSP&&_.dataHref&&j&&delete this.sdc[j],this.isPreview||!O.__N_SSG||p||B(Object.assign({},_,{isBackground:!0,persistCache:!1,inflightCache:this.sbc})).catch(()=>{}),L.pageProps=Object.assign({},L.pageProps),O.props=L,O.route=y,O.query=n,O.resolvedAs=s,this.components[y]=O,O}catch(e){return this.handleRouteInfoError((0,l.getProperError)(e),r,n,i,a)}}set(e,t,r){return this.state=e,this.sub(t,this.components["/_app"].Component,r)}beforePopState(e){this._bps=e}onlyAHashChange(e){if(!this.asPath)return!1;let[t,r]=this.asPath.split("#",2),[n,i]=e.split("#",2);return!!i&&t===n&&r===i||t===n&&r!==i}scrollToHash(e){let[,t=""]=e.split("#",2);(0,T.handleSmoothScroll)(()=>{if(""===t||"top"===t){window.scrollTo(0,0);return}let e=decodeURIComponent(t),r=document.getElementById(e);if(r){r.scrollIntoView();return}let n=document.getElementsByName(e)[0];n&&n.scrollIntoView()},{onlyHashChange:this.onlyAHashChange(e)})}urlIsNew(e){return this.asPath!==e}async prefetch(e,t,r){if(void 0===t&&(t=e),void 0===r&&(r={}),(0,L.isBot)(window.navigator.userAgent))return;let n=(0,p.parseRelativeUrl)(e),i=n.pathname,{pathname:s,query:a}=n,l=s,u=await this.pageLoader.getPageList(),c=t,d=void 0!==r.locale?r.locale||void 0:this.locale,h=await x({asPath:t,locale:d,router:this});n.pathname=q(n.pathname,u),(0,f.isDynamicRoute)(n.pathname)&&(s=n.pathname,n.pathname=s,Object.assign(a,(0,g.getRouteMatcher)((0,m.getRouteRegex)(n.pathname))((0,y.parsePath)(t).pathname)||{}),h||(e=(0,v.formatWithValidation)(n)));let b=await z({fetchData:()=>B({dataHref:this.pageLoader.getDataHref({href:(0,v.formatWithValidation)({pathname:l,query:a}),skipInterpolation:!0,asPath:c,locale:d}),hasMiddleware:!0,isServerRender:this.isSsr,parseJSON:!0,inflightCache:this.sdc,persistCache:!this.isPreview,isPrefetch:!0}),asPath:t,locale:d,router:this});if((null==b?void 0:b.effect.type)==="rewrite"&&(n.pathname=b.effect.resolvedHref,s=b.effect.resolvedHref,a={...a,...b.effect.parsedAs.query},c=b.effect.parsedAs.pathname,e=(0,v.formatWithValidation)(n)),(null==b?void 0:b.effect.type)==="redirect-external")return;let w=(0,o.removeTrailingSlash)(s);await this._bfl(t,c,r.locale,!0)&&(this.components[i]={__appRouter:!0}),await Promise.all([this.pageLoader._isSsg(w).then(t=>!!t&&B({dataHref:(null==b?void 0:b.json)?null==b?void 0:b.dataHref:this.pageLoader.getDataHref({href:e,asPath:c,locale:d}),isServerRender:!1,parseJSON:!0,inflightCache:this.sdc,persistCache:!this.isPreview,isPrefetch:!0,unstable_skipClientCache:r.unstable_skipClientCache||r.priority&&!0}).then(()=>!1).catch(()=>!1)),this.pageLoader[r.priority?"loadPage":"prefetch"](w)])}async fetchComponent(e){let t=Q({route:e,router:this});try{let r=await this.pageLoader.loadPage(e);return t(),r}catch(e){throw t(),e}}_getData(e){let t=!1,r=()=>{t=!0};return this.clc=r,e().then(e=>{if(r===this.clc&&(this.clc=null),t){let e=Error("Loading initial props cancelled");throw e.cancelled=!0,e}return e})}_getFlightData(e){return B({dataHref:e,isServerRender:!0,parseJSON:!1,inflightCache:this.sdc,persistCache:!1,isPrefetch:!1}).then(e=>{let{text:t}=e;return{data:t}})}getInitialProps(e,t){let{Component:r}=this.components["/_app"],n=this._wrapApp(r);return t.AppTree=n,(0,h.loadGetInitialProps)(r,{AppTree:n,Component:e,router:this,ctx:t})}get route(){return this.state.route}get pathname(){return this.state.pathname}get query(){return this.state.query}get asPath(){return this.state.asPath}get locale(){return this.state.locale}get isFallback(){return this.state.isFallback}get isPreview(){return this.state.isPreview}constructor(e,t,n,{initialProps:i,pageLoader:s,App:a,wrapApp:l,Component:u,err:c,subscription:d,isFallback:g,locale:m,locales:y,defaultLocale:b,domainLocales:w,isPreview:S}){this.sdc={},this.sbc={},this.isFirstPopStateEvent=!0,this._key=F(),this.onPopState=e=>{let t;let{isFirstPopStateEvent:r}=this;this.isFirstPopStateEvent=!1;let n=e.state;if(!n){let{pathname:e,query:t}=this;this.changeState("replaceState",(0,v.formatWithValidation)({pathname:(0,k.addBasePath)(e),query:t}),(0,h.getURL)());return}if(n.__NA){window.location.reload();return}if(!n.__N||r&&this.locale===n.options.locale&&n.as===this.asPath)return;let{url:i,as:o,options:s,key:a}=n;this._key=a;let{pathname:l}=(0,p.parseRelativeUrl)(i);(!this.isSsr||o!==(0,k.addBasePath)(this.asPath)||l!==(0,k.addBasePath)(this.pathname))&&(!this._bps||this._bps(n))&&this.change("replaceState",i,o,Object.assign({},s,{shallow:s.shallow&&this._shallow,locale:s.locale||this.defaultLocale,_h:0}),t)};let P=(0,o.removeTrailingSlash)(e);this.components={},"/_error"!==e&&(this.components[P]={Component:u,initial:!0,props:i,err:c,__N_SSG:i&&i.__N_SSG,__N_SSP:i&&i.__N_SSP}),this.components["/_app"]={Component:a,styleSheets:[]};{let{BloomFilter:e}=r(313),t={numItems:6,errorRate:1e-4,numBits:116,numHashes:14,bitArray:[1,0,0,0,0,1,1,1,0,1,0,1,1,0,0,1,0,0,0,1,0,0,1,0,0,0,0,0,1,0,1,0,1,0,1,1,1,0,1,1,1,1,1,0,0,0,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,1,0,1,1,0,1,1,1,0,0,0,1,0,0,0,1,1,0,0,0,1,0,1,1,0,0,1,0,1,0,1,0,0,1,1,0,1,1,1,0,1,1,1,1,0,1,1]},n={numItems:0,errorRate:1e-4,numBits:0,numHashes:null,bitArray:[]};(null==t?void 0:t.numHashes)&&(this._bfl_s=new e(t.numItems,t.errorRate),this._bfl_s.import(t)),(null==n?void 0:n.numHashes)&&(this._bfl_d=new e(n.numItems,n.errorRate),this._bfl_d.import(n))}this.events=H.events,this.pageLoader=s;let _=(0,f.isDynamicRoute)(e)&&self.__NEXT_DATA__.autoExport;if(this.basePath="",this.sub=d,this.clc=null,this._wrapApp=l,this.isSsr=!0,this.isLocaleDomain=!1,this.isReady=!!(self.__NEXT_DATA__.gssp||self.__NEXT_DATA__.gip||self.__NEXT_DATA__.isExperimentalCompile||self.__NEXT_DATA__.appGip&&!self.__NEXT_DATA__.gsp||!_&&!self.location.search),this.state={route:P,pathname:e,query:t,asPath:_?e:n,isPreview:!!S,locale:void 0,isFallback:g},this._initialMatchesMiddlewarePromise=Promise.resolve(!1),!n.startsWith("//")){let r={locale:m},i=(0,h.getURL)();this._initialMatchesMiddlewarePromise=x({router:this,locale:m,asPath:i}).then(o=>(r._shouldResolveHref=n!==e,this.changeState("replaceState",o?i:(0,v.formatWithValidation)({pathname:(0,k.addBasePath)(e),query:t}),i,r),o))}window.addEventListener("popstate",this.onPopState)}}H.events=(0,d.default)()},7393:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return o}});let n=r(1312),i=r(7027);function o(e,t,r,o){if(!t||t===r)return e;let s=e.toLowerCase();return!o&&((0,i.pathHasPrefix)(s,"/api")||(0,i.pathHasPrefix)(s,"/"+t.toLowerCase()))?e:(0,n.addPathPrefix)(e,"/"+t)}},7084:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return i}});let n=r(6506);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:o}=(0,n.parsePath)(e);return""+r+t+i+o}},8558:function(e,t){"use strict";function r(e,t){let r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(let n=r.length;n--;){let i=r[n];if("query"===i){let r=Object.keys(e.query);if(r.length!==Object.keys(t.query).length)return!1;for(let n=r.length;n--;){let i=r[n];if(!t.query.hasOwnProperty(i)||e.query[i]!==t.query[i])return!1}}else if(!t.hasOwnProperty(i)||e[i]!==t[i])return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"compareRouterStates",{enumerable:!0,get:function(){return r}})},3531:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return a}});let n=r(5868),i=r(1312),o=r(7084),s=r(7393);function a(e){let t=(0,s.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,n.removeTrailingSlash)(t)),e.buildId&&(t=(0,o.addPathSuffix)((0,i.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,i.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,o.addPathSuffix)(t,"/"):(0,n.removeTrailingSlash)(t)}},6840:function(e,t){"use strict";function r(e,t){return void 0===t&&(t=""),("/"===e?"/index":/^\/index(\/|$)/.test(e)?"/index"+e:e)+t}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}})},2339:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return s}});let n=r(1123),i=r(7323),o=r(7027);function s(e,t){var r,s;let{basePath:a,i18n:l,trailingSlash:u}=null!=(r=t.nextConfig)?r:{},c={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):u};a&&(0,o.pathHasPrefix)(c.pathname,a)&&(c.pathname=(0,i.removePathPrefix)(c.pathname,a),c.basePath=a);let d=c.pathname;if(c.pathname.startsWith("/_next/data/")&&c.pathname.endsWith(".json")){let e=c.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),r=e[0];c.buildId=r,d="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(c.pathname=d)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(c.pathname):(0,n.normalizeLocalePath)(c.pathname,l.locales);c.locale=e.detectedLocale,c.pathname=null!=(s=e.pathname)?s:c.pathname,!e.detectedLocale&&c.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(d):(0,n.normalizeLocalePath)(d,l.locales)).detectedLocale&&(c.locale=e.detectedLocale)}return c}},9753:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parseRelativeUrl",{enumerable:!0,get:function(){return o}});let n=r(6874),i=r(5770);function o(e,t){let r=new URL((0,n.getLocationOrigin)()),o=t?new URL(t,r):e.startsWith(".")?new URL(window.location.href):r,{pathname:s,searchParams:a,search:l,hash:u,href:c,origin:d}=new URL(e,o);if(d!==r.origin)throw Error("invariant: invalid relative URL, router received "+e);return{pathname:s,query:(0,i.searchParamsToUrlQuery)(a),search:l,hash:u,href:c.slice(r.origin.length)}}},7323:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return i}});let n=r(7027);function i(e,t){if(!(0,n.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},699:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(4090),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useState,s=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var c=void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=o({inst:{value:r,getSnapshot:t}}),i=n[0].inst,c=n[1];return a(function(){i.value=r,i.getSnapshot=t,u(i)&&c({inst:i})},[e,r,t]),s(function(){return u(i)&&c({inst:i}),e(function(){u(i)&&c({inst:i})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c},2362:function(e,t,r){"use strict";e.exports=r(699)},4991:function(e,t,r){"use strict";function n(e,t){let{checkForDefaultPrevented:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(n){if(null==e||e(n),!1===r||!n.defaultPrevented)return null==t?void 0:t(n)}}r.d(t,{M:function(){return n}})},7533:function(e,t,r){"use strict";r.d(t,{B:function(){return a}});var n=r(4090),i=r(4104),o=r(1266),s=r(9143);function a(e){let t=e+"CollectionProvider",[r,a]=(0,i.b)(t),[l,u]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=e+"CollectionSlot",d=n.forwardRef((e,t)=>{let{scope:r,children:i}=e,a=u(c,r),l=(0,o.e)(t,a.collectionRef);return n.createElement(s.g7,{ref:l},i)}),h=e+"CollectionItemSlot",f="data-radix-collection-item";return[{Provider:e=>{let{scope:t,children:r}=e,i=n.useRef(null),o=n.useRef(new Map).current;return n.createElement(l,{scope:t,itemMap:o,collectionRef:i},r)},Slot:d,ItemSlot:n.forwardRef((e,t)=>{let{scope:r,children:i,...a}=e,l=n.useRef(null),c=(0,o.e)(t,l),d=u(h,r);return n.useEffect(()=>(d.itemMap.set(l,{ref:l,...a}),()=>void d.itemMap.delete(l))),n.createElement(s.g7,{[f]:"",ref:c},i)})},function(t){let r=u(e+"CollectionConsumer",t);return n.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll("[".concat(f,"]")));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},a]}},4104:function(e,t,r){"use strict";r.d(t,{b:function(){return o},k:function(){return i}});var n=r(4090);function i(e,t){let r=(0,n.createContext)(t);function i(e){let{children:t,...i}=e,o=(0,n.useMemo)(()=>i,Object.values(i));return(0,n.createElement)(r.Provider,{value:o},t)}return i.displayName=e+"Provider",[i,function(i){let o=(0,n.useContext)(r);if(o)return o;if(void 0!==t)return t;throw Error("`".concat(i,"` must be used within `").concat(e,"`"))}]}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],i=()=>{let t=r.map(e=>(0,n.createContext)(e));return function(r){let i=(null==r?void 0:r[e])||t;return(0,n.useMemo)(()=>({["__scope".concat(e)]:{...r,[e]:i}}),[r,i])}};return i.scopeName=e,[function(t,i){let o=(0,n.createContext)(i),s=r.length;function a(t){let{scope:r,children:i,...a}=t,l=(null==r?void 0:r[e][s])||o,u=(0,n.useMemo)(()=>a,Object.values(a));return(0,n.createElement)(l.Provider,{value:u},i)}return r=[...r,i],a.displayName=t+"Provider",[a,function(r,a){let l=(null==a?void 0:a[e][s])||o,u=(0,n.useContext)(l);if(u)return u;if(void 0!==i)return i;throw Error("`".concat(r,"` must be used within `").concat(t,"`"))}]},function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let i=t[0];if(1===t.length)return i;let o=()=>{let e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){let r=e.reduce((e,r)=>{let{useScope:n,scopeName:i}=r,o=n(t)["__scope".concat(i)];return{...e,...o}},{});return(0,n.useMemo)(()=>({["__scope".concat(i.scopeName)]:r}),[r])}};return o.scopeName=i.scopeName,o}(i,...t)]}},1260:function(e,t,r){"use strict";let n;r.d(t,{I0:function(){return v},XB:function(){return h},fC:function(){return m}});var i=r(2110),o=r(4090),s=r(4991),a=r(9586),l=r(1266),u=r(9830);let c="dismissableLayer.update",d=(0,o.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),h=(0,o.forwardRef)((e,t)=>{var r;let{disableOutsidePointerEvents:h=!1,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:v,onInteractOutside:y,onDismiss:b,...w}=e,S=(0,o.useContext)(d),[k,P]=(0,o.useState)(null),_=null!==(r=null==k?void 0:k.ownerDocument)&&void 0!==r?r:null==globalThis?void 0:globalThis.document,[,E]=(0,o.useState)({}),C=(0,l.e)(t,e=>P(e)),O=Array.from(S.layers),[R]=[...S.layersWithOutsidePointerEventsDisabled].slice(-1),A=O.indexOf(R),L=k?O.indexOf(k):-1,j=S.layersWithOutsidePointerEventsDisabled.size>0,M=L>=A,T=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==globalThis?void 0:globalThis.document,r=(0,u.W)(e),n=(0,o.useRef)(!1),i=(0,o.useRef)(()=>{});return(0,o.useEffect)(()=>{let e=e=>{if(e.target&&!n.current){let n={originalEvent:e};function o(){g("dismissableLayer.pointerDownOutside",r,n,{discrete:!0})}"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=o,t.addEventListener("click",i.current,{once:!0})):o()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{let t=e.target,r=[...S.branches].some(e=>e.contains(t));!M||r||(null==m||m(e),null==y||y(e),e.defaultPrevented||null==b||b())},_),I=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==globalThis?void 0:globalThis.document,r=(0,u.W)(e),n=(0,o.useRef)(!1);return(0,o.useEffect)(()=>{let e=e=>{e.target&&!n.current&&g("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{let t=e.target;[...S.branches].some(e=>e.contains(t))||(null==v||v(e),null==y||y(e),e.defaultPrevented||null==b||b())},_);return!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==globalThis?void 0:globalThis.document,r=(0,u.W)(e);(0,o.useEffect)(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)},[r,t])}(e=>{L!==S.layers.size-1||(null==f||f(e),!e.defaultPrevented&&b&&(e.preventDefault(),b()))},_),(0,o.useEffect)(()=>{if(k)return h&&(0===S.layersWithOutsidePointerEventsDisabled.size&&(n=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),S.layersWithOutsidePointerEventsDisabled.add(k)),S.layers.add(k),p(),()=>{h&&1===S.layersWithOutsidePointerEventsDisabled.size&&(_.body.style.pointerEvents=n)}},[k,_,h,S]),(0,o.useEffect)(()=>()=>{k&&(S.layers.delete(k),S.layersWithOutsidePointerEventsDisabled.delete(k),p())},[k,S]),(0,o.useEffect)(()=>{let e=()=>E({});return document.addEventListener(c,e),()=>document.removeEventListener(c,e)},[]),(0,o.createElement)(a.WV.div,(0,i.Z)({},w,{ref:C,style:{pointerEvents:j?M?"auto":"none":void 0,...e.style},onFocusCapture:(0,s.M)(e.onFocusCapture,I.onFocusCapture),onBlurCapture:(0,s.M)(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:(0,s.M)(e.onPointerDownCapture,T.onPointerDownCapture)}))}),f=(0,o.forwardRef)((e,t)=>{let r=(0,o.useContext)(d),n=(0,o.useRef)(null),s=(0,l.e)(t,n);return(0,o.useEffect)(()=>{let e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,o.createElement)(a.WV.div,(0,i.Z)({},e,{ref:s}))});function p(){let e=new CustomEvent(c);document.dispatchEvent(e)}function g(e,t,r,n){let{discrete:i}=n,o=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),i?(0,a.jH)(o,s):o.dispatchEvent(s)}let m=h,v=f},7881:function(e,t,r){"use strict";r.d(t,{h:function(){return a}});var n=r(2110),i=r(4090),o=r(9542),s=r(9586);let a=(0,i.forwardRef)((e,t)=>{var r;let{container:a=null==globalThis?void 0:null===(r=globalThis.document)||void 0===r?void 0:r.body,...l}=e;return a?o.createPortal((0,i.createElement)(s.WV.div,(0,n.Z)({},l,{ref:t})),a):null})},2642:function(e,t,r){"use strict";r.d(t,{z:function(){return a}});var n=r(4090),i=r(9542),o=r(1266),s=r(2618);let a=e=>{let{present:t,children:r}=e,a=function(e){var t,r;let[o,a]=(0,n.useState)(),u=(0,n.useRef)({}),c=(0,n.useRef)(e),d=(0,n.useRef)("none"),[h,f]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},(0,n.useReducer)((e,t)=>{let n=r[e][t];return null!=n?n:e},t));return(0,n.useEffect)(()=>{let e=l(u.current);d.current="mounted"===h?e:"none"},[h]),(0,s.b)(()=>{let t=u.current,r=c.current;if(r!==e){let n=d.current,i=l(t);e?f("MOUNT"):"none"===i||(null==t?void 0:t.display)==="none"?f("UNMOUNT"):r&&n!==i?f("ANIMATION_OUT"):f("UNMOUNT"),c.current=e}},[e,f]),(0,s.b)(()=>{if(o){let e=e=>{let t=l(u.current).includes(e.animationName);e.target===o&&t&&(0,i.flushSync)(()=>f("ANIMATION_END"))},t=e=>{e.target===o&&(d.current=l(u.current))};return o.addEventListener("animationstart",t),o.addEventListener("animationcancel",e),o.addEventListener("animationend",e),()=>{o.removeEventListener("animationstart",t),o.removeEventListener("animationcancel",e),o.removeEventListener("animationend",e)}}f("ANIMATION_END")},[o,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:(0,n.useCallback)(e=>{e&&(u.current=getComputedStyle(e)),a(e)},[])}}(t),u="function"==typeof r?r({present:a.isPresent}):n.Children.only(r),c=(0,o.e)(a.ref,u.ref);return"function"==typeof r||a.isPresent?(0,n.cloneElement)(u,{ref:c}):null};function l(e){return(null==e?void 0:e.animationName)||"none"}a.displayName="Presence"},9586:function(e,t,r){"use strict";r.d(t,{WV:function(){return a},jH:function(){return l}});var n=r(2110),i=r(4090),o=r(9542),s=r(9143);let a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=(0,i.forwardRef)((e,r)=>{let{asChild:o,...a}=e,l=o?s.g7:t;return(0,i.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,i.createElement)(l,(0,n.Z)({},a,{ref:r}))});return r.displayName="Primitive.".concat(t),{...e,[t]:r}},{});function l(e,t){e&&(0,o.flushSync)(()=>e.dispatchEvent(t))}},9830:function(e,t,r){"use strict";r.d(t,{W:function(){return i}});var n=r(4090);function i(e){let t=(0,n.useRef)(e);return(0,n.useEffect)(()=>{t.current=e}),(0,n.useMemo)(()=>function(){for(var e,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call(t,...n)},[])}},9310:function(e,t,r){"use strict";r.d(t,{T:function(){return o}});var n=r(4090),i=r(9830);function o(e){let{prop:t,defaultProp:r,onChange:o=()=>{}}=e,[s,a]=function(e){let{defaultProp:t,onChange:r}=e,o=(0,n.useState)(t),[s]=o,a=(0,n.useRef)(s),l=(0,i.W)(r);return(0,n.useEffect)(()=>{a.current!==s&&(l(s),a.current=s)},[s,a,l]),o}({defaultProp:r,onChange:o}),l=void 0!==t,u=l?t:s,c=(0,i.W)(o);return[u,(0,n.useCallback)(e=>{if(l){let r="function"==typeof e?e(t):e;r!==t&&c(r)}else a(e)},[l,t,a,c])]}},2618:function(e,t,r){"use strict";r.d(t,{b:function(){return i}});var n=r(4090);let i=(null==globalThis?void 0:globalThis.document)?n.useLayoutEffect:()=>{}},1780:function(e,t,r){"use strict";r.d(t,{T:function(){return s}});var n=r(2110),i=r(4090),o=r(9586);let s=(0,i.forwardRef)((e,t)=>(0,i.createElement)(o.WV.span,(0,n.Z)({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})))},6740:function(e,t,r){"use strict";function n(e){if(void 0===e)return{};if(!o(e))throw Error("The arguments to a Convex function must be an object. Received: ".concat(e));return e}function i(e){if(void 0===e)throw Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if("string"!=typeof e)throw Error("Invalid deployment address: found ".concat(e,'".'));if(!(e.startsWith("http:")||e.startsWith("https:")))throw Error('Invalid deployment address: Must start with "https://" or "http://". Found "'.concat(e,'".'));if(-1===e.indexOf("127.0.0.1")&&-1===e.indexOf("localhost")&&!e.endsWith(".convex.cloud"))throw Error('Invalid deployment address: Must end with ".convex.cloud". Found "'.concat(e,'".'))}function o(e){var t;let r="object"==typeof e,n=Object.getPrototypeOf(e),i=null===n||n===Object.prototype||(null==n?void 0:null===(t=n.constructor)||void 0===t?void 0:t.name)==="Object";return r&&i}r.d(t,{Op:function(){return n},a0:function(){return i},pP:function(){return o}})},7659:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});let n="1.9.1"},1712:function(e,t,r){"use strict";r.d(t,{n:function(){return s}});var n=r(4090),i=r(4670);let o=(0,n.createContext)(void 0);function s(e){let{children:t,client:r,useAuth:s}=e,{isLoading:a,isAuthenticated:l,fetchAccessToken:u}=s(),[c,d]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=!0;async function t(){r.setAuth(u,t=>{e&&d(t)})}if(l)return t(),()=>{e=!1,d(e=>!e&&null),r.clearAuth()}},[l,u,a,r]),a&&null!==c&&d(null),a||l||!1===c||d(!1),n.createElement(o.Provider,{value:{isLoading:null===c,isAuthenticated:l&&null!=c&&c}},n.createElement(i.P9,{client:r},t))}},4670:function(e,t,r){"use strict";r.d(t,{P9:function(){return D},Zj:function(){return N},CC:function(){return z},Db:function(){return B},aM:function(){return V}});var n=r(7659),i=r(2133);function o(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}function s(e,t,r,n){let i=o(t);if("object"==typeof n&&(n="ConvexError ".concat(JSON.stringify(n.errorData,null,2))),"info"===e){let e=n.match(/^\[.*?\] /);if(null===e){console.error("[CONVEX ".concat(i,"(").concat(r,")] Could not parse console.log"));return}let t=n.slice(1,e[0].length-2),o=n.slice(e[0].length);console.log("%c[CONVEX ".concat(i,"(").concat(r,")] [").concat(t,"]"),"color:rgb(0, 145, 255)",o)}else console.error("[CONVEX ".concat(i,"(").concat(r,")] ").concat(n))}function a(e,t,r){let n=o(e);return"[CONVEX ".concat(n,"(").concat(t,")] ").concat(r.errorMessage,"\n  Called by client")}function l(e,t){return t.data=e.errorData,t}function u(e){let t,r;let n=e.split(":");return 1===n.length?(t=n[0],r="default"):(t=n.slice(0,n.length-1).join(":"),r=n[n.length-1]),t.endsWith(".js")&&(t=t.slice(0,-3)),"".concat(t,":").concat(r)}function c(e,t){return JSON.stringify({udfPath:u(e),args:(0,i.D2)(t)})}class d{hasSyncedPastLastReconnect(){return 0===this.outstandingQueriesOlderThanRestart.size&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(e,t,r){let n=u(e),o=c(n,t),s=this.querySet.get(o);if(void 0!==s)return s.numSubscribers+=1,{queryToken:o,modification:null,unsubscribe:()=>this.removeSubscriber(o)};{let e=this.nextQueryId++;this.querySet.set(o,{id:e,canonicalizedUdfPath:n,args:t,numSubscribers:1,journal:r}),this.queryIdToToken.set(e,o);let s=this.querySetVersion;return{queryToken:o,modification:{type:"ModifyQuerySet",baseVersion:s,newVersion:++this.querySetVersion,modifications:[{type:"Add",queryId:e,udfPath:n,args:[(0,i.D2)(t)],journal:r}]},unsubscribe:()=>this.removeSubscriber(o)}}}transition(e){for(let t of e.modifications)switch(t.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(t.queryId);let e=t.journal;if(void 0!==e){let r=this.queryIdToToken.get(t.queryId);void 0!==r&&(this.querySet.get(r).journal=e)}break}case"QueryRemoved":this.outstandingQueriesOlderThanRestart.delete(t.queryId);break;default:throw Error("Invalid modification ".concat(t.type))}}queryId(e,t){let r=c(u(e),t),n=this.querySet.get(r);return void 0!==n?n.id:null}isCurrentOrNewerAuthVersion(e){return e>=this.identityVersion}setAuth(e){return this.auth={tokenType:"User",value:e},{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}}setAdminAuth(e,t){let r={tokenType:"Admin",value:e,impersonating:t};return this.auth=r,{type:"Authenticate",baseVersion:this.identityVersion++,...r}}clearAuth(){return this.auth=void 0,this.markAuthCompletion(),{type:"Authenticate",tokenType:"None",baseVersion:this.identityVersion++}}hasAuth(){return!!this.auth}isNewAuth(e){var t;return(null===(t=this.auth)||void 0===t?void 0:t.value)!==e}queryPath(e){let t=this.queryIdToToken.get(e);return t?this.querySet.get(t).canonicalizedUdfPath:null}queryArgs(e){let t=this.queryIdToToken.get(e);return t?this.querySet.get(t).args:null}queryToken(e){var t;return null!==(t=this.queryIdToToken.get(e))&&void 0!==t?t:null}queryJournal(e){var t;return null===(t=this.querySet.get(e))||void 0===t?void 0:t.journal}restart(e){this.outstandingQueriesOlderThanRestart.clear();let t=[];for(let r of this.querySet.values()){let n={type:"Add",queryId:r.id,udfPath:r.canonicalizedUdfPath,args:[(0,i.D2)(r.args)],journal:r.journal};t.push(n),e.has(r.id)||this.outstandingQueriesOlderThanRestart.add(r.id)}this.querySetVersion=1;let r={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:t};if(!this.auth)return this.identityVersion=0,[r,void 0];this.outstandingAuthOlderThanRestart=!0;let n={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[r,n]}removeSubscriber(e){let t=this.querySet.get(e);return t.numSubscribers>1?(t.numSubscribers-=1,null):(this.querySet.delete(e),this.queryIdToToken.delete(t.id),this.outstandingQueriesOlderThanRestart.delete(t.id),{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:[{type:"Remove",queryId:t.id}]})}constructor(){this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1}}class h{request(e,t){return new Promise(r=>{this.inflightRequests.set(e.requestId,{message:e,status:{status:t?"Requested":"NotSent",requestedAt:new Date,onResult:r}})})}onResponse(e){let t;let r=this.inflightRequests.get(e.requestId);if(void 0===r||"Completed"===r.status.status)return null;let n="Mutation"===r.message.type?"mutation":"action",o=r.message.udfPath;for(let t of e.logLines)s("info",n,o,t);let a=r.status;if(e.success)t=()=>a.onResult({success:!0,logLines:e.logLines,value:(0,i.sq)(e.result,!0)});else{let r=e.result,{errorData:l}=e;s("error",n,o,r),t=()=>a.onResult({success:!1,errorMessage:r,errorData:void 0!==l?(0,i.sq)(l):void 0,logLines:e.logLines})}return"ActionResponse"!==e.type&&e.success?(r.status={status:"Completed",ts:e.ts,onResolve:t},null):(t(),this.inflightRequests.delete(e.requestId),this.requestsOlderThanRestart.delete(e.requestId),e.requestId)}removeCompleted(e){let t=new Set;for(let[r,n]of this.inflightRequests.entries()){let i=n.status;"Completed"===i.status&&i.ts.lessThanOrEqual(e)&&(i.onResolve(),t.add(r),this.inflightRequests.delete(r),this.requestsOlderThanRestart.delete(r))}return t}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());let e=[];for(let[t,r]of this.inflightRequests){if("NotSent"===r.status.status){r.status.status="Requested",e.push(r.message);continue}if("Mutation"===r.message.type)e.push(r.message);else{if(this.inflightRequests.delete(t),this.requestsOlderThanRestart.delete(t),"Completed"===r.status.status)throw Error("Action should never be in 'Completed' state");r.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return e}hasIncompleteRequests(){for(let e of this.inflightRequests.values())if("Requested"===e.status.status)return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return 0===this.requestsOlderThanRestart.size}timeOfOldestInflightRequest(){if(0===this.inflightRequests.size)return null;let e=Date.now();for(let t of this.inflightRequests.values())"Completed"!==t.status.status&&t.status.requestedAt.getTime()<e&&(e=t.status.requestedAt.getTime());return new Date(e)}constructor(){this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}}var f=r(7658),p=r(6740),g=r(7284);class m{getQuery(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let i=(0,p.Op)(r[0]),o=(0,f.$P)(e),s=this.queryResults.get(c(o,i));if(void 0!==s)return m.queryValue(s.result)}getAllQueries(e){let t=[],r=(0,f.$P)(e);for(let e of this.queryResults.values())e.udfPath===u(r)&&t.push({args:e.args,value:m.queryValue(e.result)});return t}setQuery(e,t,r){let n=(0,p.Op)(t),i=(0,f.$P)(e),o=c(i,n);this.queryResults.set(o,{udfPath:i,args:n,result:void 0===r?void 0:{success:!0,value:r,logLines:[]}}),this.modifiedQueries.push(o)}static queryValue(e){return void 0===e?void 0:e.success?e.value:void 0}constructor(e){this.queryResults=e,this.modifiedQueries=[]}}class v{ingestQueryResultsFromServer(e,t){this.optimisticUpdates=this.optimisticUpdates.filter(e=>!t.has(e.mutationId));let r=this.queryResults;this.queryResults=new Map(e);let n=new m(this.queryResults);for(let e of this.optimisticUpdates)e.update(n);let i=[];for(let[e,t]of this.queryResults){let n=r.get(e);(void 0===n||n.result!==t.result)&&i.push(e)}return i}applyOptimisticUpdate(e,t){this.optimisticUpdates.push({update:e,mutationId:t});let r=new m(this.queryResults);return e(r),r.modifiedQueries}queryResult(e){let t=this.queryResults.get(e);if(void 0===t)return;let r=t.result;if(void 0!==r){if(r.success)return r.value;if(void 0!==r.errorData)throw l(r,new g.P(a("query",t.udfPath,r)));throw Error(a("query",t.udfPath,r))}}hasQueryResult(e){return void 0!==this.queryResults.get(e)}queryLogs(e){var t;let r=this.queryResults.get(e);return null==r?void 0:null===(t=r.result)||void 0===t?void 0:t.logLines}constructor(){this.queryResults=new Map,this.optimisticUpdates=[]}}class y{static isLong(e){return!0===(e&&e.__isUnsignedLong__)}static fromBytesLE(e){return new y(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24)}toBytesLE(){let e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]}static fromNumber(e){return isNaN(e)||e<0?b:e>=S?k:new y(e%w|0,e/w|0)}toString(){return(BigInt(this.high)*BigInt(w)+BigInt(this.low)).toString()}equals(e){return y.isLong(e)||(e=y.fromValue(e)),(this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low}notEquals(e){return!this.equals(e)}comp(e){return(y.isLong(e)||(e=y.fromValue(e)),this.equals(e))?0:e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(e){return 0>=this.comp(e)}static fromValue(e){return"number"==typeof e?y.fromNumber(e):new y(e.low,e.high)}constructor(e,t){this.low=0|e,this.high=0|t,this.__isUnsignedLong__=!0}}let b=new y(0,0),w=4294967296,S=18446744073709552e3,k=new y(-1,-1);class P{transition(e){let t=e.startVersion;if(this.version.querySet!==t.querySet||this.version.ts.notEquals(t.ts)||this.version.identity!==t.identity)throw Error("Invalid start version: ".concat(t.ts.toString(),":").concat(t.querySet));for(let t of e.modifications)switch(t.type){case"QueryUpdated":{var r;let e=this.queryPath(t.queryId);if(e)for(let r of t.logLines)s("info","query",e,r);let n=(0,i.sq)(null!==(r=t.value)&&void 0!==r?r:null,!0);this.remoteQuerySet.set(t.queryId,{success:!0,value:n,logLines:t.logLines});break}case"QueryFailed":{let e=this.queryPath(t.queryId);if(e)for(let r of t.logLines)s("info","query",e,r);let{errorData:r}=t;this.remoteQuerySet.set(t.queryId,{success:!1,errorMessage:t.errorMessage,errorData:void 0!==r?(0,i.sq)(r):void 0,logLines:t.logLines});break}case"QueryRemoved":this.remoteQuerySet.delete(t.queryId);break;default:throw Error("Invalid modification ".concat(t.type))}this.version=e.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}constructor(e){this.version={querySet:0,ts:y.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=e}}function _(e){let t=i.DS.toByteArray(e);return y.fromBytesLE(Array.from(t))}class E{connect(){if("stopped"===this.socket.state)return;if("disconnected"!==this.socket.state&&"paused"!==this.socket.state)throw Error("Didn't start connection from disconnected state: "+this.socket.state);let e=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.socket={state:"connecting",ws:e},this.resetServerInactivityTimeout(),e.onopen=()=>{if(this._logVerbose("begin ws.onopen"),"connecting"!==this.socket.state)throw Error("onopen called with socket not in connecting state");this.socket={state:"ready",ws:e},this.resetServerInactivityTimeout(),this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason}),"InitialConnect"!==this.lastCloseReason&&console.log("WebSocket reconnected"),this.connectionCount+=1,this.lastCloseReason=null},e.onerror=e=>{let t=e.message;console.log("WebSocket error: ".concat(t))},e.onmessage=e=>{this.resetServerInactivityTimeout();let t=function(e){switch(e.type){case"FatalError":case"AuthError":case"ActionResponse":case"Ping":return{...e};case"MutationResponse":if(e.success)return{...e,ts:_(e.ts)};return{...e};case"Transition":return{...e,startVersion:{...e.startVersion,ts:_(e.startVersion.ts)},endVersion:{...e.endVersion,ts:_(e.endVersion.ts)}}}}(JSON.parse(e.data));this._logVerbose("received ws message with type ".concat(t.type)),this.onMessage(t).hasSyncedPastLastReconnect&&(this.retries=0)},e.onclose=e=>{if(this._logVerbose("begin ws.onclose"),null===this.lastCloseReason){var t;this.lastCloseReason=null!==(t=e.reason)&&void 0!==t?t:"OnCloseInvoked"}if(1e3!==e.code&&1001!==e.code&&1005!==e.code&&4040!==e.code){let t="WebSocket closed with code ".concat(e.code);e.reason&&(t+=": ".concat(e.reason)),console.log(t)}this.scheduleReconnect()}}socketState(){return this.socket.state}sendMessage(e){if(this._logVerbose("sending message with type ".concat(e.type)),"ready"===this.socket.state){let t=JSON.stringify(function(e){switch(e.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...e};case"Connect":if(void 0!==e.maxObservedTimestamp)return{...e,maxObservedTimestamp:function(e){let t=new Uint8Array(e.toBytesLE());return i.DS.fromByteArray(t)}(e.maxObservedTimestamp)};return{...e,maxObservedTimestamp:void 0}}}(e));try{this.socket.ws.send(t)}catch(e){console.log("Failed to send message on WebSocket, reconnecting: ".concat(e)),this.closeAndReconnect("FailedToSendMessage")}return!0}return!1}resetServerInactivityTimeout(){"stopped"===this.socket.state&&(null!==this.reconnectDueToServerInactivityTimeout&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(){this.socket={state:"disconnected"};let e=this.nextBackoff();console.log("Attempting reconnect in ".concat(e,"ms")),setTimeout(()=>this.connect(),e)}closeAndReconnect(e){switch(this._logVerbose("begin closeAndReconnect with reason ".concat(e)),this.socket.state){case"disconnected":case"stopped":case"paused":return;case"connecting":case"ready":this.lastCloseReason=e,this.close(),this.scheduleReconnect();return;default:this.socket}}close(){switch(this.socket.state){case"disconnected":case"stopped":case"paused":return;case"connecting":case"ready":this.socket.ws.onclose=()=>{},this._logVerbose("ws.close called"),this.socket.ws.close();return;default:this.socket}}stop(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"stopped":case"paused":case"disconnected":case"connecting":case"ready":if(this.close(),"ready"===this.socket.state||"connecting"===this.socket.state){let e=this.socket.ws;return this.socket={state:"stopped"},new Promise(t=>{e.onclose=e=>t()})}return this.socket={state:"stopped"},Promise.resolve();default:throw this.socket,Error("Invalid websocket state: ".concat(this.socket.state))}}pause(){switch(this.socket.state){case"stopped":return;case"paused":case"disconnected":case"connecting":case"ready":this.close(),this.socket={state:"paused"};return;default:this.socket}}resume(){switch(this.socket.state){case"paused":break;case"stopped":return;case"connecting":case"ready":case"disconnected":throw Error("`resume()` is only valid after `pause()`");default:this.socket}this.connect()}_logVerbose(e){this.verbose&&console.debug("".concat(new Date().toISOString()," ").concat(e))}nextBackoff(){let e=this.initialBackoff*Math.pow(2,this.retries);this.retries+=1;let t=Math.min(e,this.maxBackoff);return t+t*(Math.random()-.5)}constructor(e,t,r,n,i){this.webSocketConstructor=n,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.initialBackoff=100,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=3e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=e,this.onOpen=t,this.onMessage=r,this.verbose=i,this.connect()}}function C(e){this.message=e}C.prototype=Error(),C.prototype.name="InvalidCharacterError";var O=window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new C("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,i=0,o=0,s="";n=t.charAt(o++);~n&&(r=i%4?64*r+n:n,i++%4)&&(s+=String.fromCharCode(255&r>>(-2*i&6))))n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return s};function R(e){this.message=e}R.prototype=Error(),R.prototype.name="InvalidTokenError";var A=function(e,t){if("string"!=typeof e)throw new R("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(function(e){var t,r=e.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw"Illegal base64url string!"}try{return t=r,decodeURIComponent(O(t).replace(/(.)/g,function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return O(r)}}(e.split(".")[r]))}catch(e){throw new R("Invalid token specified: "+e.message)}};class L{async setConfig(e,t){this.resetAuthState();let r=await this.fetchTokenAndGuardAgainstRace(e,{forceRefreshToken:!1});r.isFromOutdatedConfig||(r.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:e,onAuthChange:t},hasRetried:!1}),this.authenticate(r.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:e,onAuthChange:t}}),await this.refetchToken()))}onTransition(e){if(this.syncState.isCurrentOrNewerAuthVersion(e.endVersion.identity)&&!(e.endVersion.identity<=e.startVersion.identity)){if("waitingForServerConfirmationOfCachedToken"===this.authState.state){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}"waitingForServerConfirmationOfFreshToken"!==this.authState.state||(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(e){let{baseVersion:t}=e;if(null!=t){if(!this.syncState.isCurrentOrNewerAuthVersion(t+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(e);return}this.tryToReauthenticate(e)}async tryToReauthenticate(e){if("noAuth"===this.authState.state||"waitingForServerConfirmationOfFreshToken"===this.authState.state){console.error('Failed to authenticate: "'.concat(e.error,'", check your server auth config')),this.syncState.hasAuth()&&this.syncState.clearAuth(),"noAuth"!==this.authState.state&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this._logVerbose("attempting to reauthenticate"),await this.pauseSocket();let t=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});if(t.isFromOutdatedConfig){await this.resumeSocket();return}t.value&&this.syncState.isNewAuth(t.value)?(this.syncState.setAuth(t.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:t.value,hadAuth:"notRefetching"===this.authState.state||"waitingForScheduledRefetch"===this.authState.state})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),await this.resumeSocket()}async refetchToken(){if("noAuth"===this.authState.state)return;this._logVerbose("refetching auth token");let e=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});e.isFromOutdatedConfig||(e.value?this.syncState.isNewAuth(e.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:e.value,config:this.authState.config}),this.authenticate(e.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)))}scheduleTokenRefetch(e){if("noAuth"===this.authState.state)return;let t=this.decodeToken(e);if(!t){console.error("Auth token is not a valid JWT, cannot refetch the token");return}let{iat:r,exp:n}=t;if(!r||!n){console.error("Auth token does not have required fields, cannot refetch the token");return}let i=(n-r-2)*1e3;if(i<=0){console.error("Auth token does not live long enough, cannot refetch the token");return}let o=setTimeout(()=>{this.refetchToken()},i);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:o,config:this.authState.config}),this._logVerbose("scheduled preemptive auth token refetching in ".concat(i,"ms"))}async fetchTokenAndGuardAgainstRace(e,t){let r=++this.configVersion,n=await e(t);return this.configVersion!==r?{isFromOutdatedConfig:!0}:{isFromOutdatedConfig:!1,value:n}}stop(){this.resetAuthState(),this.configVersion++}setAndReportAuthFailed(e){e(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(e){"waitingForScheduledRefetch"===this.authState.state&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=e}decodeToken(e){try{return A(e)}catch(e){return null}}_logVerbose(e){this.verbose&&console.debug("".concat(new Date().toISOString()," ").concat(e," [v").concat(this.configVersion,"]"))}constructor(e,{authenticate:t,pauseSocket:r,resumeSocket:n,clearAuth:i,verbose:o}){this.authState={state:"noAuth"},this.configVersion=0,this.syncState=e,this.authenticate=t,this.pauseSocket=r,this.resumeSocket=n,this.clearAuth=i,this.verbose=o}}let j=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function M(e){let t=e.name.slice(6);return{name:t=t.charAt(0).toLowerCase()+t.slice(1),startTime:e.startTime}}class T{hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(e){(void 0===this.maxObservedTimestamp||this.maxObservedTimestamp.lessThanOrEqual(e))&&(this.maxObservedTimestamp=e)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(e){let t=this.remoteQuerySet.remoteQueryResults(),r=new Map;for(let[e,n]of t){let t=this.state.queryToken(e);if(null!==t){let i={result:n,udfPath:this.state.queryPath(e),args:this.state.queryArgs(e)};r.set(t,i)}}this.onTransition(this.optimisticQueryResults.ingestQueryResultsFromServer(r,e))}setAuth(e,t){this.authenticationManager.setConfig(e,t)}hasAuth(){return this.state.hasAuth()}setAdminAuth(e,t){let r=this.state.setAdminAuth(e,t);this.webSocketManager.sendMessage(r)}clearAuth(){let e=this.state.clearAuth();this.webSocketManager.sendMessage(e)}subscribe(e,t,r){let n=(0,p.Op)(t),{modification:i,queryToken:o,unsubscribe:s}=this.state.subscribe(e,n,null==r?void 0:r.journal);return null!==i&&this.webSocketManager.sendMessage(i),{queryToken:o,unsubscribe:()=>{let e=s();e&&this.webSocketManager.sendMessage(e)}}}localQueryResult(e,t){let r=c(e,(0,p.Op)(t));return this.optimisticQueryResults.queryResult(r)}localQueryResultByToken(e){return this.optimisticQueryResults.queryResult(e)}hasLocalQueryResultByToken(e){return this.optimisticQueryResults.hasQueryResult(e)}localQueryLogs(e,t){let r=c(e,(0,p.Op)(t));return this.optimisticQueryResults.queryLogs(r)}queryJournal(e,t){let r=c(e,(0,p.Op)(t));return this.state.queryJournal(r)}connectionState(){return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:"ready"===this.webSocketManager.socketState(),timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest()}}async mutation(e,t,r){let n=await this.mutationInternal(e,t,r);if(!n.success){if(void 0!==n.errorData)throw l(n,new g.P(a("mutation",e,n)));throw Error(a("mutation",e,n))}return n.value}async mutationInternal(e,t,r){let n=(0,p.Op)(t);this.tryReportLongDisconnect();let o=this.nextRequestId;if(this.nextRequestId++,void 0!==r){let e=r.optimisticUpdate;if(void 0!==e){let t=this.optimisticQueryResults.applyOptimisticUpdate(t=>{e(t,n)},o);this.onTransition(t)}}let s={type:"Mutation",requestId:o,udfPath:e,args:[(0,i.D2)(n)]},a=this.webSocketManager.sendMessage(s);return this.requestManager.request(s,a)}async action(e,t){let r=await this.actionInternal(e,t);if(!r.success){if(void 0!==r.errorData)throw l(r,new g.P(a("action",e,r)));throw Error(a("action",e,r))}return r.value}async actionInternal(e,t){let r=(0,p.Op)(t),n=this.nextRequestId;this.nextRequestId++,this.tryReportLongDisconnect();let o={type:"Action",requestId:n,udfPath:e,args:[(0,i.D2)(r)]},s=this.webSocketManager.sendMessage(o);return this.requestManager.request(o,s)}async close(){return this.authenticationManager.stop(),this.webSocketManager.stop()}_logVerbose(e){this.verbose&&console.debug("".concat(new Date().toISOString()," ").concat(e))}reportMarks(){if(this.debug){let e=function(e){if("undefined"==typeof performance||!performance.getEntriesByName)return[];let t=[];for(let r of j){let n=performance.getEntriesByName(r).filter(e=>"mark"===e.entryType).filter(t=>t.detail.sessionId===e);t.push(...n)}return t.map(M)}(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:e})}}tryReportLongDisconnect(){if(!this.debug)return;let e=this.connectionState().timeOfOldestInflightRequest;if(null===e||Date.now()-e.getTime()<=6e4)return;let t="".concat(this.address,"/api/debug_event");fetch(t,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":"npm-".concat(n.i)},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(e=>{e.ok||console.warn("Analytics request failed with response:",e.body)}).catch(e=>{console.warn("Analytics response failed with error:",e)})}constructor(e,t,r){var i,o;let s;if(this.firstMessageReceived=!1,this.mark=e=>{if(this.debug){var t;t=this.sessionId,"undefined"!=typeof performance&&performance.mark&&performance.mark(e,{detail:{sessionId:t}})}},"object"==typeof e)throw Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");(0,p.a0)(e);let a=(r={...r}).webSocketConstructor;if(!a&&"undefined"==typeof WebSocket)throw Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");a=a||WebSocket,this.verbose=null!==(i=r.verbose)&&void 0!==i&&i,this.debug=null!==(o=r.reportDebugInfoToConvex)&&void 0!==o&&o,this.address=e;let l=e.search("://");if(-1===l)throw Error("Provided address was not an absolute URL.");let u=e.substring(l+3),c=e.substring(0,l);if("http"===c)s="ws";else if("https"===c)s="wss";else throw Error("Unknown parent protocol ".concat(c));let f="".concat(s,"://").concat(u,"/api/").concat(n.i,"/sync");this.state=new d,this.remoteQuerySet=new P(e=>this.state.queryPath(e)),this.requestManager=new h,this.authenticationManager=new L(this.state,{authenticate:e=>{let t=this.state.setAuth(e);this.webSocketManager.sendMessage(t)},pauseSocket:()=>this.webSocketManager.pause(),resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()},verbose:this.verbose}),this.optimisticQueryResults=new v,this.onTransition=t,this.nextRequestId=0,this.sessionId="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});let{unsavedChangesWarning:g}=r;if(void 0===window.addEventListener){if(!0===g)throw Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else!1!==g&&window.addEventListener("beforeunload",e=>{if(this.requestManager.hasIncompleteRequests()){e.preventDefault();let t="Are you sure you want to leave? Your changes may not be saved.";return(e||window.event).returnValue=t,t}});this.webSocketManager=new E(f,e=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...e,type:"Connect",sessionId:this.sessionId,maxObservedTimestamp:this.maxObservedTimestamp});let t=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new P(e=>this.state.queryPath(e));let[r,n]=this.state.restart(t);for(let e of(n&&this.webSocketManager.sendMessage(n),this.webSocketManager.sendMessage(r),this.requestManager.restart()))this.webSocketManager.sendMessage(e)},e=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),e.type){case"Transition":{this.observedTimestamp(e.endVersion.ts),this.authenticationManager.onTransition(e),this.remoteQuerySet.transition(e),this.state.transition(e);let t=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(t);break}case"MutationResponse":{e.success&&this.observedTimestamp(e.ts);let t=this.requestManager.onResponse(e);t&&this.notifyOnQueryResultChanges(new Set([t]));break}case"ActionResponse":this.requestManager.onResponse(e);break;case"AuthError":this.authenticationManager.onAuthError(e);break;case"FatalError":{let t=function(e){let t="[CONVEX FATAL ERROR] ".concat(e);return console.error(t),Error(t)}(e.error);throw this.webSocketManager.stop(),t}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},a,this.verbose),this.mark("convexClientConstructed")}}var I=r(4090),x=r(9542),U=r(8803);if(void 0===I)throw Error("Required dependency 'react' not found");if(void 0===x)throw Error("Required dependency 'react-dom' not found");class N{get sync(){if(this.closed)throw Error("ConvexReactClient has already been closed.");return this.cachedSync||(this.cachedSync=new T(this.address,e=>this.transition(e),this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity)),this.cachedSync}setAuth(e,t){if("string"==typeof e)throw Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(e,null!=t?t:()=>{})}clearAuth(){this.sync.clearAuth()}setAdminAuth(e,t){if(this.adminAuth=e,this.fakeUserIdentity=t,this.closed)throw Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(e,t)}watchQuery(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let[i,o]=r,s=(0,f.$P)(e);return{onUpdate:e=>{let{queryToken:t,unsubscribe:r}=this.sync.subscribe(s,i,o),n=this.listeners.get(t);return void 0!==n?n.add(e):this.listeners.set(t,new Set([e])),()=>{if(this.closed)return;let n=this.listeners.get(t);n.delete(e),0===n.size&&this.listeners.delete(t),r()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(s,i)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(s,i)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(s,i)}}}mutation(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let[i,o]=r,s=(0,f.$P)(e);return this.sync.mutation(s,i,o)}action(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let i=(0,f.$P)(e);return this.sync.action(i,...r)}query(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let i=this.watchQuery(e,...r),o=i.localQueryResult();return void 0!==o?o:new Promise((e,t)=>{let r=i.onUpdate(()=>{r();try{e(i.localQueryResult())}catch(e){t(e)}})})}connectionState(){return this.sync.connectionState()}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedSync){let e=this.cachedSync;this.cachedSync=void 0,await e.close()}}transition(e){x.unstable_batchedUpdates(()=>{for(let t of e){let e=this.listeners.get(t);if(e)for(let t of e)t()}})}constructor(e,t){if(this.closed=!1,"string"!=typeof e)throw Error("ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud'.");if(!e.includes("://"))throw Error("Provided address was not an absolute URL.");this.address=e,this.listeners=new Map,this.options={...t}}}let q=I.createContext(void 0);function z(){return(0,I.useContext)(q)}let D=e=>{let{client:t,children:r}=e;return I.createElement(q.Provider,{value:t},r)};function V(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let o="skip"===r[0],s="skip"===r[0]?{}:(0,p.Op)(r[0]),a="string"==typeof e?(0,f.r8)(e):e,l=(0,f.$P)(a),u=(0,I.useMemo)(()=>o?{}:{query:{query:a,args:s}},[JSON.stringify((0,i.D2)(s)),l,o]),c=(0,U.h)(u).query;if(c instanceof Error)throw c;return c}function B(e){let t="string"==typeof e?(0,f.r8)(e):e,r=(0,I.useContext)(q);if(void 0===r)throw Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return(0,I.useMemo)(()=>(function e(t,r,n){function i(e){return function(e){if("object"==typeof e&&null!==e&&"bubbles"in e&&"persist"in e&&"isDefaultPrevented"in e)throw Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}(e),r.mutation(t,e,{optimisticUpdate:n})}return i.withOptimisticUpdate=function(i){if(void 0!==n)throw Error("Already specified optimistic update for mutation ".concat((0,f.$P)(t)));return e(t,r,i)},i})(t,r),[r,(0,f.$P)(t)])}},2515:function(e,t,r){"use strict";r.d(t,{Zj:function(){return n.Zj},Db:function(){return n.Db},aM:function(){return n.aM}}),r(4090),r(2133),r(8803),r(7658),r(1712);var n=r(4670);r(6101)},8803:function(e,t,r){"use strict";r.d(t,{h:function(){return u}});var n=r(4090),i=r(4670),o=r(2133),s=r(7658);class a{setQueries(e){for(let t of Object.keys(e)){let{query:r,args:n}=e[t];if((0,s.$P)(r),void 0===this.queries[t])this.addQuery(t,r,n);else{let e=this.queries[t];((0,s.$P)(r)!==(0,s.$P)(e.query)||JSON.stringify((0,o.D2)(n))!==JSON.stringify((0,o.D2)(e.args)))&&(this.removeQuery(t),this.addQuery(t,r,n))}}for(let t of Object.keys(this.queries))void 0===e[t]&&this.removeQuery(t)}subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}getLocalResults(e){let t={};for(let r of Object.keys(e)){let n;let{query:i,args:o}=e[r];(0,s.$P)(i);let a=this.createWatch(i,o);try{n=a.localQueryResult()}catch(e){if(e instanceof Error)n=e;else throw e}t[r]=n}return t}setCreateWatch(e){for(let t of(this.createWatch=e,Object.keys(this.queries))){let{query:e,args:r,watch:n}=this.queries[t],i=n.journal();this.removeQuery(t),this.addQuery(t,e,r,i)}}destroy(){for(let e of Object.keys(this.queries))this.removeQuery(e);this.listeners=new Set}addQuery(e,t,r,n){if(void 0!==this.queries[e])throw Error("Tried to add a new query with identifier ".concat(e," when it already exists."));let i=this.createWatch(t,r,n),o=i.onUpdate(()=>this.notifyListeners());this.queries[e]={query:t,args:r,watch:i,unsubscribe:o}}removeQuery(e){let t=this.queries[e];if(void 0===t)throw Error("No query found with identifier ".concat(e,"."));t.unsubscribe(),delete this.queries[e]}notifyListeners(){for(let e of this.listeners)e()}constructor(e){this.createWatch=e,this.queries={},this.listeners=new Set}}var l=r(6101);function u(e){let t=(0,i.CC)();if(void 0===t)throw Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return function(e,t){let[r]=(0,n.useState)(()=>new a(t));r.createWatch!==t&&r.setCreateWatch(t),(0,n.useEffect)(()=>()=>r.destroy(),[r]);let i=(0,n.useMemo)(()=>({getCurrentValue:()=>r.getLocalResults(e),subscribe:t=>(r.setQueries(e),r.subscribe(t))}),[r,e]);return(0,l.m)(i)}(e,(0,n.useMemo)(()=>(e,r,n)=>t.watchQuery(e,r,{journal:n}),[t]))}},6101:function(e,t,r){"use strict";r.d(t,{m:function(){return i}});var n=r(4090);function i(e){let{getCurrentValue:t,subscribe:r}=e,[i,o]=(0,n.useState)(()=>({getCurrentValue:t,subscribe:r,value:t()})),s=i.value;return(i.getCurrentValue!==t||i.subscribe!==r)&&(s=t(),o({getCurrentValue:t,subscribe:r,value:s})),(0,n.useEffect)(()=>{let e=!1,n=()=>{e||o(e=>{if(e.getCurrentValue!==t||e.subscribe!==r)return e;let n=t();return e.value===n?e:{...e,value:n}})},i=r(n);return n(),()=>{e=!0,i()}},[t,r]),s}},7658:function(e,t,r){"use strict";r.d(t,{$P:function(){return i},qL:function(){return s},r8:function(){return o}});let n=Symbol.for("functionName");function i(e){if("string"==typeof e)return e;let t=e[n];if(!t)throw Error("".concat(e," is not a functionReference"));return t}function o(e){return{[n]:e}}let s=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Proxy({},{get(r,i){if("string"==typeof i)return e([...t,i]);if(i===n){if(t.length<2){let e=["api",...t].join(".");throw Error("API path is expected to be of the form `api.moduleName.functionName`. Found: `".concat(e,"`"))}let e=t.slice(0,-1).join("/"),r=t[t.length-1];return"default"===r?e:e+":"+r}return i===Symbol.toStringTag?"FunctionReference":void 0}})}()},9786:function(e,t,r){"use strict";r.r(t),r.d(t,{byteLength:function(){return c},fromByteArray:function(){return h},toByteArray:function(){return d}});for(var n=[],i=[],o=Uint8Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function c(e){var t=u(e),r=t[0],n=t[1];return(r+n)*3/4-n}function d(e){var t,r,n=u(e),s=n[0],a=n[1],l=new o((s+a)*3/4-a),c=0,d=a>0?s-4:s;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[c++]=255&t),1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l}function h(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(function(e,t,r){for(var i,o=[],s=t;s<r;s+=3)o.push(n[(i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}(e,s,s+16383>a?a:s+16383));return 1===i?o.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&o.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},7284:function(e,t,r){"use strict";r.d(t,{P:function(){return s}});var n,i=r(9548);let o=Symbol.for("ConvexError");class s extends Error{constructor(e){super("string"==typeof e?e:(0,i.lL)(e)),this.name="ConvexError",this[n]=!0,this.data=e}}n=o},2133:function(e,t,r){"use strict";r.d(t,{D2:function(){return n.D2},DS:function(){return i},sq:function(){return n.sq}});var n=r(9548);r(2254);var i=r(9786);r(7284)},2254:function(e,t,r){"use strict";r.d(t,{c:function(){return i},v:function(){return o}});var n=r(9548);class i{constructor(e,t){this.json=e,this.optional=t}}let o={id:e=>new i({type:"id",tableName:e},!1),null:()=>new i({type:"null"},!1),number:()=>new i({type:"number"},!1),float64:()=>new i({type:"number"},!1),bigint:()=>new i({type:"bigint"},!1),int64:()=>new i({type:"bigint"},!1),boolean:()=>new i({type:"boolean"},!1),string:()=>new i({type:"string"},!1),bytes:()=>new i({type:"bytes"},!1),literal:e=>new i({type:"literal",value:(0,n.D2)(e)},!1),array:e=>new i({type:"array",value:e.json},!1),object:e=>new i({type:"object",value:Object.fromEntries(Object.entries(e).map(e=>{let[t,r]=e;return[t,{fieldType:r.json,optional:r.optional}]}))},!1),record:(e,t)=>new i({type:"record",keys:e.json,values:{fieldType:t.json,optional:t.optional}},!1),union(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new i({type:"union",value:t.map(e=>e.json)},!1)},any:()=>new i({type:"any"},!1),optional:e=>new i(e.json,!0)}},9548:function(e,t,r){"use strict";r.d(t,{D2:function(){return b},h_:function(){return w},lL:function(){return g},sq:function(){return p}});var n=r(9786),i=r(6740);let o=BigInt("-9223372036854775808"),s=BigInt("9223372036854775807"),a=BigInt("0"),l=BigInt("8"),u=BigInt("256");function c(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}let d=DataView.prototype.setBigInt64?function(e){if(e<o||s<e)throw Error("BigInt ".concat(e," does not fit into a 64-bit signed integer."));let t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),n.fromByteArray(new Uint8Array(t))}:function(e){e<a&&(e-=o+o);let t=e.toString(16);t.length%2==1&&(t="0"+t);let r=new Uint8Array(new ArrayBuffer(8)),i=0;for(let n of t.match(/.{2}/g).reverse())r.set([parseInt(n,16)],i++),e>>=l;return n.fromByteArray(r)},h=DataView.prototype.getBigInt64?function(e){let t=n.toByteArray(e);if(8!==t.byteLength)throw Error("Received ".concat(t.byteLength," bytes, expected 8 for $integer"));return new DataView(t.buffer).getBigInt64(0,!0)}:function(e){let t=n.toByteArray(e);if(8!==t.byteLength)throw Error("Received ".concat(t.byteLength," bytes, expected 8 for $integer"));let r=a,i=a;for(let e of t)r+=BigInt(e)*u**i,i++;return r>s&&(r+=o+o),r};function f(e){if(0===e.length)throw Error("Empty field names are disallowed.");if(e.length>1024)throw Error("Field name ".concat(e," exceeds maximum field name length ").concat(1024,"."));if(e.startsWith("$"))throw Error("Field name ".concat(e," starts with a '$', which is reserved."));for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r<32||r>=127)throw Error("Field name ".concat(e," has invalid character '").concat(e[t],"': Field names can only contain non-control ASCII characters"))}}function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function e(t,r){if(null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t)return t;if(Array.isArray(t))return t.map(t=>e(t,r));if("object"!=typeof t)throw Error("Unexpected type of ".concat(t));let i=Object.entries(t);if(1===i.length){let o=i[0][0];if("$bytes"===o){if("string"!=typeof t.$bytes)throw Error("Malformed $bytes field on ".concat(t));return n.toByteArray(t.$bytes).buffer}if("$integer"===o){if("string"!=typeof t.$integer)throw Error("Malformed $integer field on ".concat(t));return h(t.$integer)}if("$float"===o){if("string"!=typeof t.$float)throw Error("Malformed $float field on ".concat(t));let e=n.toByteArray(t.$float);if(8!==e.byteLength)throw Error("Received ".concat(e.byteLength," bytes, expected 8 for $float"));let r=new DataView(e.buffer).getFloat64(0,!0);if(!c(r))throw Error("Float ".concat(r," should be encoded as a number"));return r}if("$set"===o){if(!Array.isArray(t.$set))throw Error("Malformed $set field on ".concat(t));if(!r)throw Error("Received a Set which is no longer supported as a Convex type, with values: ".concat(t.$set.join(", "),"."));return new Set(t.$set.map(t=>e(t,r)))}if("$map"===o){if(!Array.isArray(t.$map))throw Error("Malformed $map field on ".concat(t));if(!r)throw Error("Received a Map which is no longer supported as a Convex type, with entries: ".concat(t.$map.join(", "),"."));let n=new Map;for(let i of t.$map){if(!Array.isArray(i)||2!==i.length)throw Error("Malformed pair in $map ".concat(t));let o=e(i[0],r),s=e(i[1],r);n.set(o,s)}return n}}let o={};for(let[n,i]of Object.entries(t))f(n),o[n]=e(i,r);return o}(e,t)}function g(e){return JSON.stringify(e,(e,t)=>void 0===t?"undefined":"bigint"==typeof t?"".concat(t.toString(),"n"):t)}function m(e,t,r,a,l){if(void 0===e){let e=r&&" (present at path ".concat(r," in original object ").concat(g(t),")");throw Error("undefined is not a valid Convex value".concat(e,". To learn about Convex's supported types, see https://docs.convex.dev/using/types."))}if(null===e)return e;if("bigint"==typeof e){if(e<o||s<e)throw Error("BigInt ".concat(e," does not fit into a 64-bit signed integer."));return{$integer:d(e)}}if("number"==typeof e){if(!c(e))return e;{let t=new ArrayBuffer(8);return new DataView(t).setFloat64(0,e,!0),{$float:n.fromByteArray(new Uint8Array(t))}}}if("boolean"==typeof e||"string"==typeof e)return e;if(e instanceof ArrayBuffer)return{$bytes:n.fromByteArray(new Uint8Array(e))};if(Array.isArray(e))return e.map((e,n)=>m(e,t,r+"[".concat(n,"]"),!1,l));if(e instanceof Set){if(!l)throw Error(v(r,"Set",[...e],t));return{$set:[...e].map((e,n)=>m(e,t,r+".keys()[".concat(n,"]"),!1,l))}}if(e instanceof Map){if(!l)throw Error(v(r,"Map",[...e],t));return{$map:[...e].map((e,n)=>{let[i,o]=e;return[m(i,t,r+".keys()[".concat(n,"]"),!1,l),m(o,t,r+".values()[".concat(n,"]"),!1,l)]})}}if(!(0,i.pP)(e)){var u;let n=null==e?void 0:null===(u=e.constructor)||void 0===u?void 0:u.name;throw Error(v(r,n?"".concat(n," "):"",e,t))}let h={},p=Object.entries(e);for(let[e,n]of(p.sort((e,t)=>{let[r,n]=e,[i,o]=t;return r===i?0:r<i?-1:1}),p))void 0!==n?(f(e),h[e]=m(n,t,r+".".concat(e),!1,l)):a&&(f(e),h[e]=y(n,t,r+".".concat(e)));return h}function v(e,t,r,n){return e?"".concat(t).concat(g(r)," is not a supported Convex type (present at path ").concat(e," in original object ").concat(g(n),"). To learn about Convex's supported types, see https://docs.convex.dev/using/types."):"".concat(t).concat(g(r)," is not a supported Convex type.")}function y(e,t,r){if(void 0===e)return{$undefined:null};if(void 0===t)throw Error("Programming error. Current value is ".concat(g(e)," but original value is undefined"));return m(e,t,r,!1,!1)}function b(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return m(e,e,"",!1,t)}function w(e){return y(e,e,"")}}}]);