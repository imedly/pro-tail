exports.id=959,exports.ids=[959],exports.modules={15409:(e,a,s)=>{Promise.resolve().then(s.bind(s,48008))},87439:(e,a,s)=>{"use strict";s.r(a),s.d(a,{FileBrowser:()=>e9});var t=s(95344),l=s(87548),r=s(33523);let i=s(9724).qL;var d=s(5094),n=s(3729),o=s(32751),c=s(60708),f=s(11453),m=s(14217);let x=(0,s(88720).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=n.forwardRef(({className:e,...a},s)=>t.jsx(m.f,{ref:s,className:(0,f.cn)(x(),e),...a}));u.displayName=m.f.displayName;let p=c.RV,h=n.createContext({}),j=({...e})=>t.jsx(h.Provider,{value:{name:e.name},children:t.jsx(c.Qr,{...e})}),g=()=>{let e=n.useContext(h),a=n.useContext(N),{getFieldState:s,formState:t}=(0,c.Gc)(),l=s(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:r}=a;return{id:r,name:e.name,formItemId:`${r}-form-item`,formDescriptionId:`${r}-form-item-description`,formMessageId:`${r}-form-item-message`,...l}},N=n.createContext({}),y=n.forwardRef(({className:e,...a},s)=>{let l=n.useId();return t.jsx(N.Provider,{value:{id:l},children:t.jsx("div",{ref:s,className:(0,f.cn)("space-y-2",e),...a})})});y.displayName="FormItem";let b=n.forwardRef(({className:e,...a},s)=>{let{error:l,formItemId:r}=g();return t.jsx(u,{ref:s,className:(0,f.cn)(l&&"text-destructive",e),htmlFor:r,...a})});b.displayName="FormLabel";let v=n.forwardRef(({...e},a)=>{let{error:s,formItemId:l,formDescriptionId:r,formMessageId:i}=g();return t.jsx(o.g7,{ref:a,id:l,"aria-describedby":s?`${r} ${i}`:`${r}`,"aria-invalid":!!s,...e})});v.displayName="FormControl",n.forwardRef(({className:e,...a},s)=>{let{formDescriptionId:l}=g();return t.jsx("p",{ref:s,id:l,className:(0,f.cn)("text-sm text-muted-foreground",e),...a})}).displayName="FormDescription";let w=n.forwardRef(({className:e,children:a,...s},l)=>{let{error:r,formMessageId:i}=g(),d=r?String(r?.message):a;return d?t.jsx("p",{ref:l,id:i,className:(0,f.cn)("text-sm font-medium text-destructive",e),...s,children:d}):null});w.displayName="FormMessage";let R=n.forwardRef(({className:e,type:a,...s},l)=>t.jsx("input",{type:a,className:(0,f.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...s}));R.displayName="Input";var C=s(88794),k=s(14513);let F=C.fC,z=C.xz,Z=C.h_;C.x8;let D=n.forwardRef(({className:e,...a},s)=>t.jsx(C.aV,{ref:s,className:(0,f.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));D.displayName=C.aV.displayName;let S=n.forwardRef(({className:e,children:a,...s},l)=>(0,t.jsxs)(Z,{children:[t.jsx(D,{}),(0,t.jsxs)(C.VY,{ref:l,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[a,(0,t.jsxs)(C.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(k.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));S.displayName=C.VY.displayName;let _=({className:e,...a})=>t.jsx("div",{className:(0,f.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});_.displayName="DialogHeader";let V=n.forwardRef(({className:e,...a},s)=>t.jsx(C.Dx,{ref:s,className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));V.displayName=C.Dx.displayName;let T=n.forwardRef(({className:e,...a},s)=>t.jsx(C.dk,{ref:s,className:(0,f.cn)("text-sm text-muted-foreground",e),...a}));T.displayName=C.dk.displayName;var I=s(29709),U=s(85453),Y=s(39769),P=s(42739);let M=I.z.object({title:I.z.string().min(1).max(200),file:I.z.custom(e=>e instanceof FileList,"Required").refine(e=>e.length>0,"Required")});function $(){let e;let{toast:a}=(0,Y.pm)(),s=(0,l.o8)(),o=(0,l.aF)(),f=(0,r.Db)(i.files.generateUploadUrl),m=(0,c.cI)({resolver:(0,U.F)(M),defaultValues:{title:"",file:void 0}}),x=m.register("file");async function u(s){if(!e)return;let t=await f(),l=s.file[0].type,r=await fetch(t,{method:"POST",headers:{"Content-Type":l},body:s.file[0]}),{storageId:i}=await r.json();try{await N({name:s.title,fileId:i,orgId:e,type:{"image/png":"image","image/jpeg":"image","application/pdf":"pdf","text/csv":"csv"}[l]}),m.reset(),g(!1),a({variant:"success",title:"File Uploaded",description:"Now everyone can view your file"})}catch(e){a({variant:"destructive",title:"Something went wrong",description:"Your file could not be uploaded, try again later"})}}s.isLoaded&&o.isLoaded&&(e=s.organization?.id??o.user?.id);let[h,g]=(0,n.useState)(!1),N=(0,r.Db)(i.files.createFile);return(0,t.jsxs)(F,{open:h,onOpenChange:e=>{g(e),m.reset()},children:[t.jsx(z,{asChild:!0,children:t.jsx(d.z,{children:"Upload File"})}),(0,t.jsxs)(S,{children:[(0,t.jsxs)(_,{children:[t.jsx(V,{className:"mb-8",children:"Upload your File Here"}),t.jsx(T,{children:"This file will be accessible by anyone in your organization"})]}),t.jsx("div",{children:t.jsx(p,{...m,children:(0,t.jsxs)("form",{onSubmit:m.handleSubmit(u),className:"space-y-8",children:[t.jsx(j,{control:m.control,name:"title",render:({field:e})=>(0,t.jsxs)(y,{children:[t.jsx(b,{children:"Title"}),t.jsx(v,{children:t.jsx(R,{...e})}),t.jsx(w,{})]})}),t.jsx(j,{control:m.control,name:"file",render:()=>(0,t.jsxs)(y,{children:[t.jsx(b,{children:"File"}),t.jsx(v,{children:t.jsx(R,{type:"file",...x})}),t.jsx(w,{})]})}),(0,t.jsxs)(d.z,{type:"submit",disabled:m.formState.isSubmitting,className:"flex gap-1",children:[m.formState.isSubmitting&&t.jsx(P.Z,{className:"h-4 w-4 animate-spin"}),"Submit"]})]})})})]})]})}let A=n.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,f.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));A.displayName="Card";let q=n.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",e),...a}));q.displayName="CardHeader";let L=n.forwardRef(({className:e,...a},s)=>t.jsx("h3",{ref:s,className:(0,f.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));L.displayName="CardTitle",n.forwardRef(({className:e,...a},s)=>t.jsx("p",{ref:s,className:(0,f.cn)("text-sm text-muted-foreground",e),...a})).displayName="CardDescription";let H=n.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,f.cn)("p-6 pt-0",e),...a}));H.displayName="CardContent";let G=n.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,f.cn)("flex items-center p-6 pt-0",e),...a}));G.displayName="CardFooter";var O=s(33320);let B=n.forwardRef(({className:e,...a},s)=>t.jsx(O.fC,{ref:s,className:(0,f.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...a}));B.displayName=O.fC.displayName;let E=n.forwardRef(({className:e,...a},s)=>t.jsx(O.Ee,{ref:s,className:(0,f.cn)("aspect-square h-full w-full",e),...a}));E.displayName=O.Ee.displayName;let K=n.forwardRef(({className:e,...a},s)=>t.jsx(O.NY,{ref:s,className:(0,f.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...a}));K.displayName=O.NY.displayName;var Q=s(28705),J=s(20016),W=s(37121),X=s(29021),ee=s(89410),ea=s(28473),es=s(97751),et=s(62312),el=s(82958);let er=ea.fC,ei=ea.xz;ea.ZA,ea.Uv,ea.Tr,ea.Ee,n.forwardRef(({className:e,inset:a,children:s,...l},r)=>(0,t.jsxs)(ea.fF,{ref:r,className:(0,f.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",a&&"pl-8",e),...l,children:[s,t.jsx(es.Z,{className:"ml-auto h-4 w-4"})]})).displayName=ea.fF.displayName,n.forwardRef(({className:e,...a},s)=>t.jsx(ea.tu,{ref:s,className:(0,f.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})).displayName=ea.tu.displayName;let ed=n.forwardRef(({className:e,sideOffset:a=4,...s},l)=>t.jsx(ea.Uv,{children:t.jsx(ea.VY,{ref:l,sideOffset:a,className:(0,f.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));ed.displayName=ea.VY.displayName;let en=n.forwardRef(({className:e,inset:a,...s},l)=>t.jsx(ea.ck,{ref:l,className:(0,f.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",e),...s}));en.displayName=ea.ck.displayName,n.forwardRef(({className:e,children:a,checked:s,...l},r)=>(0,t.jsxs)(ea.oC,{ref:r,className:(0,f.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...l,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(ea.wU,{children:t.jsx(et.Z,{className:"h-4 w-4"})})}),a]})).displayName=ea.oC.displayName,n.forwardRef(({className:e,children:a,...s},l)=>(0,t.jsxs)(ea.Rk,{ref:l,className:(0,f.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(ea.wU,{children:t.jsx(el.Z,{className:"h-2 w-2 fill-current"})})}),a]})).displayName=ea.Rk.displayName,n.forwardRef(({className:e,inset:a,...s},l)=>t.jsx(ea.__,{ref:l,className:(0,f.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",e),...s})).displayName=ea.__.displayName;let eo=n.forwardRef(({className:e,...a},s)=>t.jsx(ea.Z0,{ref:s,className:(0,f.cn)("-mx-1 my-1 h-px bg-muted",e),...a}));eo.displayName=ea.Z0.displayName;var ec=s(1560),ef=s(56515),em=s(76755),ex=s(28413),eu=s(94730),ep=s(74507),eh=s(49177);let ej=eh.fC;eh.xz;let eg=eh.h_,eN=n.forwardRef(({className:e,...a},s)=>t.jsx(eh.aV,{className:(0,f.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:s}));eN.displayName=eh.aV.displayName;let ey=n.forwardRef(({className:e,...a},s)=>(0,t.jsxs)(eg,{children:[t.jsx(eN,{}),t.jsx(eh.VY,{ref:s,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a})]}));ey.displayName=eh.VY.displayName;let eb=({className:e,...a})=>t.jsx("div",{className:(0,f.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...a});eb.displayName="AlertDialogHeader";let ev=({className:e,...a})=>t.jsx("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});ev.displayName="AlertDialogFooter";let ew=n.forwardRef(({className:e,...a},s)=>t.jsx(eh.Dx,{ref:s,className:(0,f.cn)("text-lg font-semibold",e),...a}));ew.displayName=eh.Dx.displayName;let eR=n.forwardRef(({className:e,...a},s)=>t.jsx(eh.dk,{ref:s,className:(0,f.cn)("text-sm text-muted-foreground",e),...a}));eR.displayName=eh.dk.displayName;let eC=n.forwardRef(({className:e,...a},s)=>t.jsx(eh.aU,{ref:s,className:(0,f.cn)((0,d.d)(),e),...a}));eC.displayName=eh.aU.displayName;let ek=n.forwardRef(({className:e,...a},s)=>t.jsx(eh.$j,{ref:s,className:(0,f.cn)((0,d.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...a}));ek.displayName=eh.$j.displayName;var eF=s(2499);function ez({file:e,isFavorited:a}){let s=(0,r.Db)(i.files.deleteFile),l=(0,r.Db)(i.files.restoreFile),d=(0,r.Db)(i.files.toggleFavorite),{toast:o}=(0,Y.pm)(),c=(0,r.aM)(i.users.getMe),[f,m]=(0,n.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[t.jsx(ej,{open:f,onOpenChange:m,children:(0,t.jsxs)(ey,{children:[(0,t.jsxs)(eb,{children:[t.jsx(ew,{children:"Are you absolutely sure?"}),t.jsx(eR,{children:"This action will mark the file for our deletion process. Files are deleted periodically"})]}),(0,t.jsxs)(ev,{children:[t.jsx(ek,{children:"Cancel"}),t.jsx(eC,{onClick:async()=>{await s({fileId:e._id}),o({variant:"default",title:"File marked for deletion",description:"Your file will be deleted soon"})},children:"Continue"})]})]})}),(0,t.jsxs)(er,{children:[t.jsx(ei,{children:t.jsx(ec.Z,{})}),(0,t.jsxs)(ed,{children:[(0,t.jsxs)(en,{onClick:()=>{e.url&&window.open(e.url,"_blank")},className:"flex gap-1 items-center cursor-pointer",children:[t.jsx(ef.Z,{className:"w-4 h-4"})," Download"]}),t.jsx(en,{onClick:()=>{d({fileId:e._id})},className:"flex gap-1 items-center cursor-pointer",children:a?(0,t.jsxs)("div",{className:"flex gap-1 items-center",children:[t.jsx(em.Z,{className:"w-4 h-4"})," Unfavorite"]}):(0,t.jsxs)("div",{className:"flex gap-1 items-center",children:[t.jsx(ex.Z,{className:"w-4 h-4"})," Favorite"]})}),(0,t.jsxs)(eF.Cv,{condition:a=>a({role:"org:admin"})||e.userId===c?._id,fallback:t.jsx(t.Fragment,{}),children:[t.jsx(eo,{}),t.jsx(en,{onClick:()=>{e.shouldDelete?l({fileId:e._id}):m(!0)},className:"flex gap-1 items-center cursor-pointer",children:e.shouldDelete?(0,t.jsxs)("div",{className:"flex gap-1 text-green-600 items-center cursor-pointer",children:[t.jsx(eu.Z,{className:"w-4 h-4"})," Restore"]}):(0,t.jsxs)("div",{className:"flex gap-1 text-red-600 items-center cursor-pointer",children:[t.jsx(ep.Z,{className:"w-4 h-4"})," Delete"]})})]})]})]})]})}function eZ({file:e}){let a=(0,r.aM)(i.users.getUserProfile,{userId:e.userId}),s={image:t.jsx(J.Z,{}),pdf:t.jsx(W.Z,{}),csv:t.jsx(X.Z,{})};return(0,t.jsxs)(A,{children:[(0,t.jsxs)(q,{className:"relative",children:[(0,t.jsxs)(L,{className:"flex gap-2 text-base font-normal",children:[t.jsx("div",{className:"flex justify-center",children:s[e.type]})," ",e.name]}),t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx(ez,{isFavorited:e.isFavorited,file:e})})]}),(0,t.jsxs)(H,{className:"h-[200px] flex justify-center items-center",children:["image"===e.type&&e.url&&t.jsx(ee.default,{alt:e.name,width:"200",height:"100",src:e.url}),"csv"===e.type&&t.jsx(X.Z,{className:"w-20 h-20"}),"pdf"===e.type&&t.jsx(W.Z,{className:"w-20 h-20"})]}),(0,t.jsxs)(G,{className:"flex justify-between",children:[(0,t.jsxs)("div",{className:"flex gap-2 text-xs text-gray-700 w-40 items-center",children:[(0,t.jsxs)(B,{className:"w-6 h-6",children:[t.jsx(E,{src:a?.image}),t.jsx(K,{children:"CN"})]}),a?.name]}),(0,t.jsxs)("div",{className:"text-xs text-gray-700",children:["Uploaded on ",(0,Q.l)(new Date(e._creationTime),new Date)]})]})]})}var eD=s(13012),eS=s(56294),e_=s(28765);let eV=I.z.object({query:I.z.string().min(0).max(200)});function eT({query:e,setQuery:a}){let s=(0,c.cI)({resolver:(0,U.F)(eV),defaultValues:{query:e}});async function l(e){a(e.query)}return t.jsx("div",{children:t.jsx(p,{...s,children:(0,t.jsxs)("form",{onSubmit:s.handleSubmit(l),className:"flex gap-2 items-center",children:[t.jsx(j,{control:s.control,name:"query",render:({field:e})=>(0,t.jsxs)(y,{children:[t.jsx(v,{children:t.jsx(R,{...e,placeholder:"your file names"})}),t.jsx(w,{})]})}),(0,t.jsxs)(d.z,{size:"sm",type:"submit",disabled:s.formState.isSubmitting,className:"flex gap-1",children:[s.formState.isSubmitting&&t.jsx(P.Z,{className:"h-4 w-4 animate-spin"}),t.jsx(e_.Z,{})," Search"]})]})})})}var eI=s(90491),eU=s(60563);let eY=n.forwardRef(({className:e,...a},s)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:s,className:(0,f.cn)("w-full caption-bottom text-sm",e),...a})}));eY.displayName="Table";let eP=n.forwardRef(({className:e,...a},s)=>t.jsx("thead",{ref:s,className:(0,f.cn)("[&_tr]:border-b",e),...a}));eP.displayName="TableHeader";let eM=n.forwardRef(({className:e,...a},s)=>t.jsx("tbody",{ref:s,className:(0,f.cn)("[&_tr:last-child]:border-0",e),...a}));eM.displayName="TableBody",n.forwardRef(({className:e,...a},s)=>t.jsx("tfoot",{ref:s,className:(0,f.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let e$=n.forwardRef(({className:e,...a},s)=>t.jsx("tr",{ref:s,className:(0,f.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...a}));e$.displayName="TableRow";let eA=n.forwardRef(({className:e,...a},s)=>t.jsx("th",{ref:s,className:(0,f.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...a}));eA.displayName="TableHead";let eq=n.forwardRef(({className:e,...a},s)=>t.jsx("td",{ref:s,className:(0,f.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...a}));function eL({columns:e,data:a}){let s=(0,eI.b7)({data:a,columns:e,getCoreRowModel:(0,eU.sC)()});return t.jsx("div",{className:"rounded-md border",children:(0,t.jsxs)(eY,{children:[t.jsx(eP,{children:s.getHeaderGroups().map(e=>t.jsx(e$,{children:e.headers.map(e=>t.jsx(eA,{children:e.isPlaceholder?null:(0,eI.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),t.jsx(eM,{children:s.getRowModel().rows?.length?s.getRowModel().rows.map(e=>t.jsx(e$,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>t.jsx(eq,{children:(0,eI.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):t.jsx(e$,{children:t.jsx(eq,{colSpan:e.length,className:"h-24 text-center",children:"No results."})})})]})})}eq.displayName="TableCell",n.forwardRef(({className:e,...a},s)=>t.jsx("caption",{ref:s,className:(0,f.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption";let eH=[{accessorKey:"name",header:"Nom",cell:({row:e})=>{let a=e.original;return(0,t.jsxs)("div",{className:"flex items-center gap-x-2",children:["image"===a.type?t.jsx(ee.default,{src:a.url||"",alt:a.name,width:20,height:20,className:"rounded-sm"}):"pdf"===a.type?t.jsx("span",{className:"text-red-500",children:"PDF"}):t.jsx("span",{className:"text-gray-500",children:"CSV"}),t.jsx("span",{children:a.name})]})}},{accessorKey:"_creationTime",header:"Date",cell:({row:e})=>t.jsx("span",{children:(0,Q.l)(new Date(e.original._creationTime),new Date)})},{accessorKey:"userId",header:"Propri\xe9taire",cell:({row:e})=>(e.original.userId,(0,t.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,t.jsxs)(B,{children:[t.jsx(E,{}),t.jsx(K,{})]}),t.jsx("span",{})]}))},{id:"actions",header:"Actions",cell:({row:e})=>{}}];var eG=s(89128);let eO=eG.fC,eB=n.forwardRef(({className:e,...a},s)=>t.jsx(eG.aV,{ref:s,className:(0,f.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...a}));eB.displayName=eG.aV.displayName;let eE=n.forwardRef(({className:e,...a},s)=>t.jsx(eG.xz,{ref:s,className:(0,f.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...a}));eE.displayName=eG.xz.displayName;let eK=n.forwardRef(({className:e,...a},s)=>t.jsx(eG.VY,{ref:s,className:(0,f.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a}));eK.displayName=eG.VY.displayName;var eQ=s(63646),eJ=s(25390),eW=s(37545);let eX=eQ.fC;eQ.ZA;let e0=eQ.B4,e2=n.forwardRef(({className:e,children:a,...s},l)=>(0,t.jsxs)(eQ.xz,{ref:l,className:(0,f.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[a,t.jsx(eQ.JO,{asChild:!0,children:t.jsx(eJ.Z,{className:"h-4 w-4 opacity-50"})})]}));e2.displayName=eQ.xz.displayName;let e5=n.forwardRef(({className:e,...a},s)=>t.jsx(eQ.u_,{ref:s,className:(0,f.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:t.jsx(eW.Z,{className:"h-4 w-4"})}));e5.displayName=eQ.u_.displayName;let e1=n.forwardRef(({className:e,...a},s)=>t.jsx(eQ.$G,{ref:s,className:(0,f.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:t.jsx(eJ.Z,{className:"h-4 w-4"})}));e1.displayName=eQ.$G.displayName;let e4=n.forwardRef(({className:e,children:a,position:s="popper",...l},r)=>t.jsx(eQ.h_,{children:(0,t.jsxs)(eQ.VY,{ref:r,className:(0,f.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...l,children:[t.jsx(e5,{}),t.jsx(eQ.l_,{className:(0,f.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),t.jsx(e1,{})]})}));e4.displayName=eQ.VY.displayName,n.forwardRef(({className:e,...a},s)=>t.jsx(eQ.__,{ref:s,className:(0,f.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=eQ.__.displayName;let e8=n.forwardRef(({className:e,children:a,...s},l)=>(0,t.jsxs)(eQ.ck,{ref:l,className:(0,f.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(eQ.wU,{children:t.jsx(et.Z,{className:"h-4 w-4"})})}),t.jsx(eQ.eT,{children:a})]}));function e3(){return(0,t.jsxs)("div",{className:"flex flex-col gap-8 w-full items-center mt-24",children:[t.jsx(ee.default,{alt:"an image of a picture and directory icon",width:"300",height:"300",src:"/empty.svg"}),t.jsx("div",{className:"text-2xl",children:"You have no files, upload one now"}),t.jsx($,{})]})}function e9({title:e,favoritesOnly:a,deletedOnly:s}){let d;let o=(0,l.o8)(),c=(0,l.aF)(),[f,m]=(0,n.useState)(""),[x,p]=(0,n.useState)("all");o.isLoaded&&c.isLoaded&&(d=o.organization?.id??c.user?.id);let h=(0,r.aM)(i.files.getAllFavorites,d?{orgId:d}:"skip"),j=(0,r.aM)(i.files.getFiles,d?{orgId:d,type:"all"===x?void 0:x,query:f,favorites:a,deletedOnly:s}:"skip"),g=j?.map(e=>({...e,isFavorited:(h??[]).some(a=>a.fileId===e._id)}))??[];return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[t.jsx("h1",{className:"text-4xl font-bold",children:e}),t.jsx(eT,{query:f,setQuery:m}),t.jsx($,{})]}),(0,t.jsxs)(eO,{defaultValue:"grid",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)(eB,{className:"mb-2",children:[(0,t.jsxs)(eE,{value:"grid",className:"flex gap-2 items-center",children:[t.jsx(eD.Z,{}),"Grid"]}),(0,t.jsxs)(eE,{value:"table",className:"flex gap-2 items-center",children:[t.jsx(eS.Z,{})," Table"]})]}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[t.jsx(u,{htmlFor:"type-select",children:"Type Filter"}),(0,t.jsxs)(eX,{value:x,onValueChange:e=>{p(e)},children:[t.jsx(e2,{id:"type-select",className:"w-[180px]",children:t.jsx(e0,{})}),(0,t.jsxs)(e4,{children:[t.jsx(e8,{value:"all",children:"All"}),t.jsx(e8,{value:"image",children:"Image"}),t.jsx(e8,{value:"csv",children:"CSV"}),t.jsx(e8,{value:"pdf",children:"PDF"})]})]})]})]}),void 0===j&&(0,t.jsxs)("div",{className:"flex flex-col gap-8 w-full items-center mt-24",children:[t.jsx(P.Z,{className:"h-32 w-32 animate-spin text-gray-500"}),t.jsx("div",{className:"text-2xl",children:"Loading your files..."})]}),t.jsx(eK,{value:"grid",children:t.jsx("div",{className:"grid grid-cols-3 gap-4",children:g?.map(e=>t.jsx(eZ,{file:e},e._id))})}),t.jsx(eK,{value:"table",children:t.jsx(eL,{columns:eH,data:g})})]}),j?.length===0&&t.jsx(e3,{})]})}e8.displayName=eQ.ck.displayName,n.forwardRef(({className:e,...a},s)=>t.jsx(eQ.Z0,{ref:s,className:(0,f.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=eQ.Z0.displayName},48008:(e,a,s)=>{"use strict";s.r(a),s.d(a,{SideNav:()=>f});var t=s(95344),l=s(5094),r=s(56815),i=s(56515),d=s(76755),n=s(74507),o=s(56506),c=s(8428);function f(){let e=(0,c.usePathname)();return(0,t.jsxs)("div",{className:"w-40 flex flex-col gap-4",children:[t.jsx(o.default,{href:"/dashboard/files",children:(0,t.jsxs)(l.z,{variant:"link",className:(0,r.Z)("flex gap-2",{"text-blue-500":e.includes("/dashboard/files")}),children:[t.jsx(i.Z,{})," All Files"]})}),t.jsx(o.default,{href:"/dashboard/favorites",children:(0,t.jsxs)(l.z,{variant:"link",className:(0,r.Z)("flex gap-2",{"text-blue-500":e.includes("/dashboard/favorites")}),children:[t.jsx(d.Z,{})," Favorites"]})}),t.jsx(o.default,{href:"/dashboard/trash",children:(0,t.jsxs)(l.z,{variant:"link",className:(0,r.Z)("flex gap-2",{"text-blue-500":e.includes("/dashboard/trash")}),children:[t.jsx(n.Z,{})," Trash"]})})]})}},5094:(e,a,s)=>{"use strict";s.d(a,{d:()=>n,z:()=>o});var t=s(95344),l=s(3729),r=s(32751),i=s(88720),d=s(11453);let n=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=l.forwardRef(({className:e,variant:a,size:s,asChild:l=!1,...i},o)=>{let c=l?r.g7:"button";return t.jsx(c,{className:(0,d.cn)(n({variant:a,size:s,className:e})),ref:o,...i})});o.displayName="Button"},43084:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});var t=s(25036),l=s(86843);let r=(0,l.createProxy)(String.raw`C:\Users\iddou\Desktop\file-drive\file-drive\src\app\dashboard\side-nav.tsx`),{__esModule:i,$$typeof:d}=r;r.default;let n=(0,l.createProxy)(String.raw`C:\Users\iddou\Desktop\file-drive\file-drive\src\app\dashboard\side-nav.tsx#SideNav`);function o({children:e}){return t.jsx("main",{className:"container mx-auto pt-12 min-h-screen",children:(0,t.jsxs)("div",{className:"flex gap-8",children:[t.jsx(n,{}),t.jsx("div",{className:"w-full",children:e})]})})}},73881:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>l});var t=s(70337);let l=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,t.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};